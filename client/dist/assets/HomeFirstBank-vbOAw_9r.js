import{a as I,ab as pe,ac as he,h as Z,a1 as se,j as e,S as me,V as F,R as fe,i as xe,k as ve,ad as ye,ae as E,af as je,aa as ge}from"./index-w41rB-zE.js";import"./dayjs.min-C51UK5Y8.js";import{G as be}from"./GeoLocationInput-Bovco-IV.js";import{I as Ne}from"./ImageUploader-BfBXw7ep.js";import{h as _}from"./moment-C5S46NFB.js";import{F as a,R as M,C as R}from"./index-CWNi5yC6.js";import{I as d}from"./index-D4KWIJoL.js";import{D as Ie}from"./index-p-1VuaTs.js";import{S as p}from"./index-CqdAOu9q.js";import{B as P}from"./button-CgeEP9mE.js";import{D as V}from"./index-CSZzi_5n.js";import{F as Ae}from"./Table-BBOEhX1S.js";import{R as Ce}from"./PlusOutlined-C-itGNEv.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./FileSaver.min-0Mtzt-J1.js";import"./index-BkUuvNze.js";import"./index-CMUBo7h7.js";import"./isVisible-DhUEo0yb.js";import"./index-Cn9P2GMv.js";import"./fade-UjQwWFCr.js";import"./compact-item-CeLi5kmI.js";import"./useForceUpdate-DbKdcjNo.js";import"./EyeOutlined-DPdilBGX.js";import"./roundedArrow-DSsJecMi.js";import"./CloseCircleFilled-DZvUHeBU.js";import"./index-DDhR-cup.js";import"./index-0XLt7M-c.js";import"./InfoCircleFilled-mWAWBR6j.js";import"./index-CtjJNR0l.js";import"./PurePanel-2XbhPsO7.js";import"./useBreakpoint-C8nH0e-V.js";import"./TextArea-B63JDhoP.js";import"./useVariants-Dhb08RNU.js";import"./styleChecker-Dr9BUc6D.js";import"./addEventListener-erzlvqlx.js";import"./index-BYjS_aR9.js";import"./LeftOutlined-CuVV-6P5.js";import"./EllipsisOutlined-DjOyNqyA.js";import"./index-Cp_0w9sd.js";import"./Pagination-Dv8CqHjM.js";var De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},Se=function(s,l){return I.createElement(pe,he({},s,{ref:l,icon:De}))},Oe=I.forwardRef(Se);const{TextArea:Pe}=d,{Option:B}=p,Fe=({isEdit:n,onNext:s})=>{const{user:l}=Z(m=>m.auth),[r]=a.useForm(),[c,u]=I.useState([]),{id:t}=se(),[o,f]=I.useState([]),[v,j]=I.useState(!1),x={customerName:"",customerNo:"",propertyName:"",personMetDuringVisit:"N/A",personContactNo:"N/A",typeOfLoan:"N/A",dateOfReport:null,refNo:"N/A",evaluationType:"N/A",unitType:"N/A",documentsAvailable:"N/A"};I.useEffect(()=>{if(n){const m=n.dateOfReport?_(n.dateOfReport,_.ISO_8601,!0).isValid()?_(n.dateOfReport):_(n.dateOfReport,"DD.MM.YYYY"):null;if(r.setFieldsValue({customerName:n.customerName||"",customerNo:n.customerNo||"",personMetDuringVisit:n.personMetDuringVisit||"",personContactNo:n.personContactNo||"",typeOfLoan:n.typeOfLoan||"",dateOfReport:m,refNo:n.refNo||"N/A",evaluationType:n.evaluationType||"",unitType:n.unitType||"",documentsAvailable:n.documentsAvailable||"A.T.S, DRAFT SALE AGREEMENT, SALE DEED,  ENGG. MAP, KEY-PLAN",latitude:n.latitude||"",longitude:n.longitude||""}),n.imageUrls&&Array.isArray(n.imageUrls)){const h=n.imageUrls.map((g,O)=>({uid:`server-${O}`,name:g.split("/").pop(),status:"done",url:g}));u(h),f(n.imageUrls)}}},[n,r]);const y=I.useRef();I.useEffect(()=>{if(l.role==="FieldOfficer"){const m=setTimeout(()=>{var h;(h=y.current)==null||h.getLocation()},100);return()=>clearTimeout(m)}},[l.role]);const N=async m=>{if(l.role==="FieldOfficer"&&o.length===0){F.error("Please upload images before submitting");return}j(!0);try{const h={...m,imageUrls:o};s(h)}catch(h){console.log(h)}finally{j(!1)}};return v?e.jsx(me,{}):e.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"L & T ASSIGNMENT DETAILS "}),e.jsxs(a,{layout:"vertical",form:r,initialValues:x,onFinish:N,className:"grid grid-cols-2 gap-4",children:[e.jsx(a.Item,{name:"customerName",label:"Customer Name",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"customerNo",label:"Customer No.",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"propertyName",label:"Property Name",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"personMetDuringVisit",label:"Person Met During Visit",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"personContactNo",label:"Person Contact No.",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"typeOfLoan",label:"Type of Loan",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"dateOfReport",label:"Date of Report",children:e.jsx(Ie,{className:"w-full",format:"DD.MM.YYYY"})}),e.jsx(a.Item,{name:"refNo",label:"Reference No.",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"evaluationType",label:"Evaluation Type",children:e.jsxs(p,{allowClear:!0,className:"w-full",children:[e.jsx(B,{value:"One Off",children:"One Off"}),e.jsx(B,{value:"Regular",children:"Regular"})]})}),e.jsx(a.Item,{name:"unitType",label:"Unit Type",children:e.jsxs(p,{allowClear:!0,className:"w-full",children:[e.jsx(B,{value:"Individual House",children:"Individual House"}),e.jsx(B,{value:"Flat",children:"Flat"})]})}),e.jsx(a.Item,{className:"col-span-2",name:"documentsAvailable",label:"Documents Available for perusal",children:e.jsx(Pe,{rows:2})}),e.jsx("div",{className:"col-span-2",children:l.role==="FieldOfficer"?e.jsx(be,{ref:y}):e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{name:"latitude",label:"Latitude",children:e.jsx(d,{placeholder:"Latitude"})}),e.jsx(a.Item,{name:"longitude",label:"Longitude",children:e.jsx(d,{placeholder:"Longitude"})})]})}),e.jsx("div",{className:"col-span-2 !flex",children:e.jsx(Ne,{deleteId:t,images:c,setImages:u,setUploadedUrls:f})}),e.jsx(a.Item,{className:"col-span-2 text-end",children:e.jsx(P,{type:"primary",htmlType:"submit",className:"mt-4",children:l.role==="FieldOfficer"?"Submit":"Next"})})]})]})},{TextArea:Y}=d,{Option:C}=p,Q=[{key:"1",type:"NA Converted",approvingAuthority:["Yes","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"2",type:"Approved Sanction Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"ENGG MAP",file:null},{key:"3",type:"Approved Layout Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"KEY PLAN",file:null},{key:"4",type:"Commencement Certificate (if any)",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"5",type:"Occupancy/Completion Certificate",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"6",type:"Approved Sub Plotting Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null}],ke=({isEdit:n,onNext:s,onBack:l})=>{const[r]=a.useForm(),[c,u]=I.useState([]),[t,o]=I.useState(!1),[f,v]=I.useState(Q),j={addressLegal:"",addressSite:"",city:"",nearbyLandmark:"",projectPinCode:"",zone:"RESIDENTIAL",projectState:"Madhya Pradesh",nameOnSocietyBoard:"N/A",nameOnDoor:"N/A",latitude:"N/A",longitude:"N/A",populationCensus2011:"N/A",ruralUrban:"Rural",statusOfOccupancy:"N/A",occupiedBy:"N/A",usageOfProperty:"N/A",eraApplicable:"No",ownershipType:"Freehold",numberAndDate:"N/A",approvedSubPlottingPlan:"",usageOfProperty:""};I.useEffect(()=>{if(n&&(r.setFieldsValue(n),n.documents&&Array.isArray(n.documents))){const m=Q.map(h=>{const g=n.documents.find(O=>O.type===h.type);return{...h,...g,selectedApprovingAuthority:(g==null?void 0:g.approvingAuthority)||"",approvingAuthority:h.approvingAuthority}});v(m)}},[n,r]),I.useEffect(()=>{n!=null&&n.images&&u(n.images)},[n]),I.useEffect(()=>{const m=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",m),m(),()=>window.removeEventListener("resize",m)},[]);const x=(m,h,g)=>{v(O=>O.map(D=>D.key===m?{...D,[h]:g}:D))},y=m=>{const h={...m,images:c,documents:f.map(g=>({...g,approvingAuthority:g.selectedApprovingAuthority||"",approvingAuthorityOptions:g.approvingAuthority}))};s(h)},N=[{title:"TYPE",dataIndex:"type",key:"type",render:(m,h)=>e.jsx("span",{children:h.type})},{title:"Approving Authority",dataIndex:"approvingAuthority",key:"approvingAuthority",render:(m,h)=>e.jsx(p,{value:h.selectedApprovingAuthority||"",style:{width:200},onChange:g=>x(h.key,"selectedApprovingAuthority",g),placeholder:"Select",children:h.approvingAuthority.map(g=>e.jsx(C,{value:g,children:g},g))})},{title:"Date of approval and Number",dataIndex:"approvalDate",key:"approvalDate",render:(m,h)=>e.jsx(d,{placeholder:"Number & Date",defaultValue:h.approvalDate,onChange:g=>x(h.key,"approvalDate",g.target.value)})},{title:"Details of Approval",dataIndex:"approvalDetails",key:"approvalDetails",render:(m,h)=>e.jsx(d,{placeholder:"Details",defaultValue:h.approvalDetails,onChange:g=>x(h.key,"approvalDetails",g.target.value)})}];return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"General Details"}),e.jsxs(a,{layout:"vertical",form:r,initialValues:j,onFinish:y,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx(a.Item,{name:"addressLegal",label:"Address as per Legal Document",children:e.jsx(Y,{autoSize:{minRows:2,maxRows:6}})}),e.jsx(a.Item,{name:"addressSite",label:"Address As per Site",children:e.jsx(Y,{autoSize:{minRows:2,maxRows:6}})}),e.jsx(a.Item,{name:"city",label:"city",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"nearbyLandmark",label:"Nearby Landmark",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"projectPinCode",label:"Project Pin Code",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"zone",label:"Zone",children:e.jsxs(p,{children:[e.jsx(C,{value:"RESIDENTIAL",children:"Residential"}),e.jsx(C,{value:"COMMERCIAL",children:"Commercial"}),e.jsx(C,{value:"INDUSTRIAL",children:"Industrial"}),e.jsx(C,{value:"AGRICULTURAL",children:"Agricultural"}),e.jsx(C,{value:"MIXED",children:"Mixed"})]})}),e.jsx(a.Item,{name:"projectState",label:"Project State",children:e.jsxs(p,{children:[e.jsx(C,{value:"Madhya Pradesh",children:"Madhya Pradesh"}),e.jsx(C,{value:"Maharashtra",children:"Maharashtra"}),e.jsx(C,{value:"Uttar Pradesh",children:"Uttar Pradesh"}),e.jsx(C,{value:"Gujarat",children:"Gujarat"}),e.jsx(C,{value:"Rajasthan",children:"Rajasthan"}),e.jsx(C,{value:"Delhi",children:"Delhi"})]})}),e.jsxs(a.Item,{name:"usageOfProperty",label:"Usage of the Property",children:[e.jsx(d,{}),"cd         "]}),e.jsx(a.Item,{name:"nameOnSocietyBoard",label:"Name on Society Board",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"nameOnDoor",label:"Name on Door of the Premises",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"populationCensus2011",label:"Population Census 2011",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"ruralUrban",label:"Rural/Urban",children:e.jsxs(p,{children:[e.jsx(C,{value:"Rural",children:"Rural"}),e.jsx(C,{value:"Urban",children:"Urban"})]})}),e.jsx(a.Item,{name:"statusOfOccupancy",label:"Status of Occupancy",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"occupiedBy",label:"Occupied By",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"usageOfProperty",label:"Usage of Property",children:e.jsx(d,{})}),e.jsx(a.Item,{name:"eraApplicable",label:"RERA (if applicable)",children:e.jsxs(p,{children:[e.jsx(C,{value:"Yes",children:"Yes"}),e.jsx(C,{value:"No",children:"No"})]})}),e.jsx(a.Item,{name:"ownershipType",label:"Ownership Type",children:e.jsxs(p,{children:[e.jsx(C,{value:"Freehold",children:"Freehold"}),e.jsx(C,{value:"leasehold",children:"Leasehold"})]})}),e.jsx(a.Item,{name:"numberAndDate",label:"Number & Date",children:e.jsx(Y,{rows:3})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(V,{orientation:"left",children:"DOCUMENT DETAILS"}),t?f.map(m=>e.jsxs("div",{className:"border p-3 rounded bg-gray-50 mb-4",children:[e.jsxs("p",{className:"font-semibold",children:["TYPE: ",m.type]}),e.jsx(a.Item,{label:"Approving Authority",children:e.jsx(p,{value:m.selectedApprovingAuthority||"",onChange:h=>x(m.key,"selectedApprovingAuthority",h),children:m.approvingAuthority.map(h=>e.jsx(C,{value:h,children:h},h))})}),e.jsx(a.Item,{label:"Date & Number",children:e.jsx(d,{value:m.approvalDate,onChange:h=>x(m.key,"approvalDate",h.target.value)})}),e.jsx(a.Item,{label:"Details",children:e.jsx(d,{value:m.approvalDetails,onChange:h=>x(m.key,"approvalDetails",h.target.value)})})]},m.key)):e.jsx(Ae,{columns:N,dataSource:f,pagination:!1,bordered:!0,rowKey:"key"})]}),e.jsxs(a.Item,{className:"lg:col-span-2 text-end",children:[l&&e.jsx(P,{onClick:l,className:"mr-2",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})},{Option:S}=p,Re=({isEdit:n,onNext:s,onBack:l})=>{const[r]=a.useForm(),c={directions:{North:{document:"",actual:"",plan:""},South:{document:"",actual:"",plan:""},East:{document:"",actual:"",plan:""},West:{document:"",actual:"",plan:""}},boundariesMatching:"",plotArea:"",isPropertyWithinLimit:"",marketability:"",typeOfStructure:"N/A",qualityOfConstruction:"",IfNoDetailRemak:"",propertyIsDemarcated:"",propertyEasilyIdentifiable:"",Dimension:"",ifQualityPoor:"",unitFlatConfiguration:"",noOfFloorsPermissible:"",noOfUnitFlatOnEachFloor:"",internalComposition:"",noOfFloorsActual:"",approxAgeOfProperty:"",constructionAsPerPlan:"",residualAge:"",constructionStatus:"",liftAvailable:"",buildingHeight:"",constructionStage:"",openPlot:""};I.useEffect(()=>{var o,f,v,j;n&&r.setFieldsValue({directions:{North:((o=n==null?void 0:n.directions)==null?void 0:o.North)||{},South:((f=n==null?void 0:n.directions)==null?void 0:f.South)||{},East:((v=n==null?void 0:n.directions)==null?void 0:v.East)||{},West:((j=n==null?void 0:n.directions)==null?void 0:j.West)||{}},boundariesMatching:n.boundariesMatching||"",plotArea:n.plotArea||"",isPropertyWithinLimit:n.isPropertyWithinLimit||"",marketability:n.marketability||"",typeOfStructure:n.typeOfStructure||"N/A",qualityOfConstruction:n.qualityOfConstruction||"AVG",ifQualityPoor:n.ifQualityPoor||"N/A",unitFlatConfiguration:n.unitFlatConfiguration||"",noOfFloorsPermissible:n.noOfFloorsPermissible||"N/A",noOfUnitFlatOnEachFloor:n.noOfUnitFlatOnEachFloor||"N/A",internalComposition:n.internalComposition||"N/A",noOfFloorsActual:n.noOfFloorsActual||"N/A",approxAgeOfProperty:n.approxAgeOfProperty||"0",constructionAsPerPlan:n.constructionAsPerPlan||"no",residualAge:n.residualAge||"50",constructionStatus:n.constructionStatus||"0%",liftAvailable:n.liftAvailable||"NO",buildingHeight:n.buildingHeight||"0",constructionStage:n.constructionStage||"OPEN PLOT",openPlot:n.openPlot||"N/A",IfNoDetailRemak:n.IfNoDetailRemak||"",propertyIsDemarcated:n.propertyIsDemarcated||"",propertyEasilyIdentifiable:n.propertyEasilyIdentifiable||"",Dimension:n.Dimension||""})},[n,r]);const u=o=>{s(o)},t=o=>{const{name:f,value:v,type:j}=o.target,x=j==="number"?parseFloat(v)||0:v;r.setFieldsValue({[f]:x})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Property Details"}),e.jsxs(a,{layout:"vertical",form:r,initialValues:c,onFinish:u,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[["North","South","East","West"].map(o=>e.jsxs("div",{className:"lg:col-span-2 rounded-md bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-800",children:o}),e.jsxs(M,{gutter:16,children:[e.jsx(R,{xs:24,md:8,children:e.jsx(a.Item,{label:"As per Document/ATS",name:["directions",o,"document"],children:e.jsx(d,{})})}),e.jsx(R,{xs:24,md:8,children:e.jsx(a.Item,{label:"Actual at site",name:["directions",o,"actual"],children:e.jsx(d,{})})}),e.jsx(R,{xs:24,md:8,children:e.jsx(a.Item,{label:"As per plan",name:["directions",o,"plan"],children:e.jsx(d,{})})})]})]},o)),e.jsx(a.Item,{label:"Boundaries Matching",name:"boundariesMatching",children:e.jsxs(p,{onChange:t,children:[e.jsx(S,{value:"Yes",children:"Yes"}),e.jsx(S,{value:"No",children:"No"}),e.jsx(S,{value:"NA",children:"NA"})]})}),e.jsx(a.Item,{label:"Plot Area (Sq. ft)",name:"plotArea",children:e.jsx(d,{type:"number",onChange:t})}),e.jsx(a.Item,{label:"Is the property within which limit",name:"isPropertyWithinLimit",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Marketability",name:"marketability",children:e.jsxs(p,{onChange:t,children:[e.jsx(S,{value:"Yes",children:"Good"}),e.jsx(S,{value:"No",children:"Average"}),e.jsx(S,{value:"NA",children:"Poor"})]})}),e.jsx(a.Item,{label:"If No - Detail Remak",name:"IfNoDetailRemak",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Property is Demarcated",name:"propertyIsDemarcated",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Property Easily Identifiable",name:"propertyEasilyIdentifiable",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Dimension:",name:"Dimension",children:e.jsx(d,{onChange:t})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Structural Details"})," ",e.jsx("br",{}),e.jsx(a.Item,{label:"Type of Structure",name:"typeOfStructure",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Quality of Construction",name:"qualityOfConstruction",children:e.jsxs(p,{onChange:t,children:[e.jsx(S,{value:"Good",children:"Good"}),e.jsx(S,{value:"Average",children:"Average"}),e.jsx(S,{value:"Poor",children:"Poor"}),e.jsx(S,{value:"NA",children:"NA"})]})}),e.jsx(a.Item,{label:"If quality of construction is poor",name:"ifQualityPoor",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Unit / Flat Configuration",name:"unitFlatConfiguration",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"No. of Floors Permissible",name:"noOfFloorsPermissible",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"No. of Unit / Flat on Each Floor",name:"noOfUnitFlatOnEachFloor",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Internal composition of the property",name:"internalComposition",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"No. of Floors Actual",name:"noOfFloorsActual",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Approx. Age of Property (Years)",name:"approxAgeOfProperty",children:e.jsx(d,{type:"number",onChange:t})}),e.jsx(a.Item,{label:"Whether construction is as per plan /permission/ building",name:"constructionAsPerPlan",children:e.jsxs(p,{onChange:t,children:[e.jsx(S,{value:"Yes",children:"Yes"}),e.jsx(S,{value:"No",children:"No"}),e.jsx(S,{value:"NA",children:"NA"})]})}),e.jsx(a.Item,{label:"Residual Age (Years)",name:"residualAge",children:e.jsx(d,{type:"number",onChange:t})}),e.jsx(a.Item,{label:"Currnet Construction Status",name:"constructionStatus",children:e.jsx(d,{onChange:t})}),e.jsx(a.Item,{label:"Whether Lift Available",name:"liftAvailable",children:e.jsxs(p,{onChange:t,children:[e.jsx(S,{value:"Yes",children:"Yes"}),e.jsx(S,{value:"No",children:"No"}),e.jsx(S,{value:"NA",children:"NA"})]})}),e.jsx(a.Item,{label:"Height of the building (Approx in Meters)",name:"buildingHeight",children:e.jsx(d,{type:"number",onChange:t})}),e.jsx(a.Item,{label:"Construction Stage",name:"constructionStage",children:e.jsx(d,{onChange:t})}),e.jsxs(a.Item,{className:"lg:col-span-2 text-end",children:[l&&e.jsx(P,{type:"default",onClick:l,className:"mr-2 px-4 py-2 bg-gray-500 text-white rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})};var U={exports:{}},G,J;function we(){if(J)return G;J=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G=n,G}var H,X;function Te(){if(X)return H;X=1;var n=we();function s(){}function l(){}return l.resetWarningCache=s,H=function(){function r(t,o,f,v,j,x){if(x!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function c(){return r}var u={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:c,element:r,elementType:r,instanceOf:c,node:r,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:l,resetWarningCache:s};return u.PropTypes=u,u},H}var ee;function Le(){return ee||(ee=1,U.exports=Te()()),U.exports}var i=Le(),z=function(){return z=Object.assign||function(n){for(var s,l=1,r=arguments.length;l<r;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},z.apply(this,arguments)},ce={onActivate:i.func,onAddUndo:i.func,onBeforeAddUndo:i.func,onBeforeExecCommand:i.func,onBeforeGetContent:i.func,onBeforeRenderUI:i.func,onBeforeSetContent:i.func,onBeforePaste:i.func,onBlur:i.func,onChange:i.func,onClearUndos:i.func,onClick:i.func,onContextMenu:i.func,onCommentChange:i.func,onCompositionEnd:i.func,onCompositionStart:i.func,onCompositionUpdate:i.func,onCopy:i.func,onCut:i.func,onDblclick:i.func,onDeactivate:i.func,onDirty:i.func,onDrag:i.func,onDragDrop:i.func,onDragEnd:i.func,onDragGesture:i.func,onDragOver:i.func,onDrop:i.func,onExecCommand:i.func,onFocus:i.func,onFocusIn:i.func,onFocusOut:i.func,onGetContent:i.func,onHide:i.func,onInit:i.func,onInput:i.func,onKeyDown:i.func,onKeyPress:i.func,onKeyUp:i.func,onLoadContent:i.func,onMouseDown:i.func,onMouseEnter:i.func,onMouseLeave:i.func,onMouseMove:i.func,onMouseOut:i.func,onMouseOver:i.func,onMouseUp:i.func,onNodeChange:i.func,onObjectResizeStart:i.func,onObjectResized:i.func,onObjectSelected:i.func,onPaste:i.func,onPostProcess:i.func,onPostRender:i.func,onPreProcess:i.func,onProgressState:i.func,onRedo:i.func,onRemove:i.func,onReset:i.func,onSaveContent:i.func,onSelectionChange:i.func,onSetAttrib:i.func,onSetContent:i.func,onShow:i.func,onSubmit:i.func,onUndo:i.func,onVisualAid:i.func,onSkinLoadError:i.func,onThemeLoadError:i.func,onModelLoadError:i.func,onPluginLoadError:i.func,onIconsLoadError:i.func,onLanguageLoadError:i.func,onScriptsLoad:i.func,onScriptsLoadError:i.func},Ve=z({apiKey:i.string,licenseKey:i.string,id:i.string,inline:i.bool,init:i.object,initialValue:i.string,onEditorChange:i.func,value:i.string,tagName:i.string,tabIndex:i.number,cloudChannel:i.string,plugins:i.oneOfType([i.string,i.array]),toolbar:i.oneOfType([i.string,i.array]),disabled:i.bool,readonly:i.bool,textareaName:i.string,tinymceScriptSrc:i.oneOfType([i.string,i.arrayOf(i.string),i.arrayOf(i.shape({src:i.string,async:i.bool,defer:i.bool}))]),rollback:i.oneOfType([i.number,i.oneOf([!1])]),scriptLoading:i.shape({async:i.bool,defer:i.bool,delay:i.number})},ce),de=function(n){var s=n;return s&&s.tinymce?s.tinymce:null},K=function(n){return typeof n=="function"},ne=function(n){return n in ce},te=function(n){return n.substr(2)},Me=function(n,s,l,r,c,u,t){var o=Object.keys(c).filter(ne),f=Object.keys(u).filter(ne),v=o.filter(function(x){return u[x]===void 0}),j=f.filter(function(x){return c[x]===void 0});v.forEach(function(x){var y=te(x),N=t[y];l(y,N),delete t[y]}),j.forEach(function(x){var y=r(n,x),N=te(x);t[N]=y,s(N,y)})},_e=function(n,s,l,r,c){return Me(c,n.on.bind(n),n.off.bind(n),function(u,t){return function(o){var f;return(f=u(t))===null||f===void 0?void 0:f(o,n)}},s,l,r)},ae=0,ue=function(n){var s=Date.now(),l=Math.floor(Math.random()*1e9);return ae++,n+"_"+l+ae+String(s)},re=function(n){return n!==null&&(n.tagName.toLowerCase()==="textarea"||n.tagName.toLowerCase()==="input")},ie=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},Be=function(n,s){return ie(n).concat(ie(s))},Ee=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Ye=function(n){if(!("isConnected"in Node.prototype)){for(var s=n,l=n.parentNode;l!=null;)s=l,l=s.parentNode;return s===n.ownerDocument}return n.isConnected},oe=function(n,s){n!==void 0&&(n.mode!=null&&typeof n.mode=="object"&&typeof n.mode.set=="function"?n.mode.set(s):n.setMode(s))},Ue=function(n){var s=de(n);if(!s)throw new Error("tinymce should have been loaded into global scope");return s},le=function(n){return n.options&&n.options.isRegistered("disabled")},$=function(){return $=Object.assign||function(n){for(var s,l=1,r=arguments.length;l<r;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},$.apply(this,arguments)},Ge=function(n,s,l){var r,c,u=n.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=s.id,u.src=s.src,u.async=(r=s.async)!==null&&r!==void 0?r:!1,u.defer=(c=s.defer)!==null&&c!==void 0?c:!1;var t=function(){u.removeEventListener("load",t),u.removeEventListener("error",o),l(s.src)},o=function(f){u.removeEventListener("load",t),u.removeEventListener("error",o),l(s.src,f)};u.addEventListener("load",t),u.addEventListener("error",o),n.head&&n.head.appendChild(u)},He=function(n){var s={},l=function(t,o){var f=s[t];f.done=!0,f.error=o;for(var v=0,j=f.handlers;v<j.length;v++){var x=j[v];x(t,o)}f.handlers=[]},r=function(t,o,f){var v=function(D){return f!==void 0?f(D):console.error(D)};if(t.length===0){v(new Error("At least one script must be provided"));return}for(var j=0,x=!1,y=function(D,k){x||(k?(x=!0,v(k)):++j===t.length&&o())},N=0,m=t;N<m.length;N++){var h=m[N],g=s[h.src];if(g)g.done?y(h.src,g.error):g.handlers.push(y);else{var O=ue("tiny-");s[h.src]={id:O,src:h.src,done:!1,error:null,handlers:[y]},Ge(n,$({id:O},h),l)}}},c=function(){for(var t,o=0,f=Object.values(s);o<f.length;o++){var v=f[o],j=n.getElementById(v.id);j!=null&&j.tagName==="SCRIPT"&&((t=j.parentNode)===null||t===void 0||t.removeChild(j))}s={}},u=function(){return n};return{loadScripts:r,deleteScripts:c,getDocument:u}},Ke=function(){var n=[],s=function(c){var u=n.find(function(t){return t.getDocument()===c});return u===void 0&&(u=He(c),n.push(u)),u},l=function(c,u,t,o,f){var v=function(){return s(c).loadScripts(u,o,f)};t>0?setTimeout(v,t):v()},r=function(){for(var c=n.pop();c!=null;c=n.pop())c.deleteScripts()};return{loadList:l,reinitialize:r}},We=Ke(),qe=function(){var n=function(s,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])},n(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(s,l);function r(){this.constructor=s}s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}}(),L=function(){return L=Object.assign||function(n){for(var s,l=1,r=arguments.length;l<r;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},L.apply(this,arguments)},W="change keyup compositionend setcontent CommentChange";(function(n){qe(s,n);function s(l){var r,c,u,t=n.call(this,l)||this;return t.rollbackTimer=void 0,t.valueCursor=void 0,t.rollbackChange=function(){var o=t.editor,f=t.props.value;o&&f&&f!==t.currentContent&&o.undoManager.ignore(function(){if(o.setContent(f),t.valueCursor&&(!t.inline||o.hasFocus()))try{o.selection.moveToBookmark(t.valueCursor)}catch{}}),t.rollbackTimer=void 0},t.handleBeforeInput=function(o){if(t.props.value!==void 0&&t.props.value===t.currentContent&&t.editor&&(!t.inline||t.editor.hasFocus()))try{t.valueCursor=t.editor.selection.getBookmark(3)}catch{}},t.handleBeforeInputSpecial=function(o){(o.key==="Enter"||o.key==="Backspace"||o.key==="Delete")&&t.handleBeforeInput(o)},t.handleEditorChange=function(o){var f=t.editor;if(f&&f.initialized){var v=f.getContent();t.props.value!==void 0&&t.props.value!==v&&t.props.rollback!==!1&&(t.rollbackTimer||(t.rollbackTimer=window.setTimeout(t.rollbackChange,typeof t.props.rollback=="number"?t.props.rollback:200))),v!==t.currentContent&&(t.currentContent=v,K(t.props.onEditorChange)&&t.props.onEditorChange(v,f))}},t.handleEditorChangeSpecial=function(o){(o.key==="Backspace"||o.key==="Delete")&&t.handleEditorChange(o)},t.initialise=function(o){var f,v,j;o===void 0&&(o=0);var x=t.elementRef.current;if(x){if(!Ye(x)){if(o===0)setTimeout(function(){return t.initialise(1)},1);else if(o<100)setTimeout(function(){return t.initialise(o+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var y=Ue(t.view),N=L(L(L(L({},t.props.init),{selector:void 0,target:x,disabled:t.props.disabled,readonly:t.props.readonly,inline:t.inline,plugins:Be((f=t.props.init)===null||f===void 0?void 0:f.plugins,t.props.plugins),toolbar:(v=t.props.toolbar)!==null&&v!==void 0?v:(j=t.props.init)===null||j===void 0?void 0:j.toolbar}),t.props.licenseKey?{license_key:t.props.licenseKey}:{}),{setup:function(m){t.editor=m,t.bindHandlers({}),t.inline&&!re(x)&&m.once("PostRender",function(h){m.setContent(t.getInitialValue(),{no_events:!0})}),t.props.init&&K(t.props.init.setup)&&t.props.init.setup(m),t.props.disabled&&(le(t.editor)?t.editor.options.set("disabled",t.props.disabled):t.editor.mode.set("readonly"))},init_instance_callback:function(m){var h,g=t.getInitialValue();t.currentContent=(h=t.currentContent)!==null&&h!==void 0?h:m.getContent(),t.currentContent!==g&&(t.currentContent=g,m.setContent(g),m.undoManager.clear(),m.undoManager.add(),m.setDirty(!1)),t.props.init&&K(t.props.init.init_instance_callback)&&t.props.init.init_instance_callback(m)}});t.inline||(x.style.visibility=""),re(x)&&(x.value=t.getInitialValue()),y.init(N)}},t.id=t.props.id||ue("tiny-react"),t.elementRef=I.createRef(),t.inline=(u=(r=t.props.inline)!==null&&r!==void 0?r:(c=t.props.init)===null||c===void 0?void 0:c.inline)!==null&&u!==void 0?u:!1,t.boundHandlers={},t}return Object.defineProperty(s.prototype,"view",{get:function(){var l,r;return(r=(l=this.elementRef.current)===null||l===void 0?void 0:l.ownerDocument.defaultView)!==null&&r!==void 0?r:window},enumerable:!1,configurable:!0}),s.prototype.componentDidUpdate=function(l){var r=this,c,u;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(l),this.editor.initialized)){if(this.currentContent=(c=this.currentContent)!==null&&c!==void 0?c:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==l.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var t=this.editor;t.undoManager.transact(function(){var f;if(!r.inline||t.hasFocus())try{f=t.selection.getBookmark(3)}catch{}var v=r.valueCursor;if(t.setContent(r.props.value),!r.inline||t.hasFocus())for(var j=0,x=[f,v];j<x.length;j++){var y=x[j];if(y)try{t.selection.moveToBookmark(y),r.valueCursor=y;break}catch{}}})}if(this.props.readonly!==l.readonly){var o=(u=this.props.readonly)!==null&&u!==void 0?u:!1;oe(this.editor,o?"readonly":"design")}this.props.disabled!==l.disabled&&(le(this.editor)?this.editor.options.set("disabled",this.props.disabled):oe(this.editor,this.props.disabled?"readonly":"design"))}},s.prototype.componentDidMount=function(){var l=this,r,c,u,t,o;if(de(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(c=(r=this.props).onScriptsLoadError)===null||c===void 0||c.call(r,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((u=this.elementRef.current)===null||u===void 0)&&u.ownerDocument){var f=function(){var j,x;(x=(j=l.props).onScriptsLoad)===null||x===void 0||x.call(j),l.initialise()},v=function(j){var x,y;(y=(x=l.props).onScriptsLoadError)===null||y===void 0||y.call(x,j)};We.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(o=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0,f,v)}},s.prototype.componentWillUnmount=function(){var l=this,r=this.editor;r&&(r.off(W,this.handleEditorChange),r.off(this.beforeInputEvent(),this.handleBeforeInput),r.off("keypress",this.handleEditorChangeSpecial),r.off("keydown",this.handleBeforeInputSpecial),r.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(c){r.off(c,l.boundHandlers[c])}),this.boundHandlers={},r.remove(),this.editor=void 0)},s.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},s.prototype.beforeInputEvent=function(){return Ee()?"beforeinput SelectionChange":"SelectionChange"},s.prototype.renderInline=function(){var l=this.props.tagName,r=l===void 0?"div":l;return I.createElement(r,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},s.prototype.renderIframe=function(){return I.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},s.prototype.getScriptSources=function(){var l,r,c=(l=this.props.scriptLoading)===null||l===void 0?void 0:l.async,u=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:c,defer:u}]:this.props.tinymceScriptSrc.map(function(v){return typeof v=="string"?{src:v,async:c,defer:u}:v});var t=this.props.cloudChannel,o=this.props.apiKey?this.props.apiKey:"no-api-key",f="https://cdn.tiny.cloud/1/".concat(o,"/tinymce/").concat(t,"/tinymce.min.js");return[{src:f,async:c,defer:u}]},s.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},s.prototype.bindHandlers=function(l){var r=this;if(this.editor!==void 0){_e(this.editor,l,this.props,this.boundHandlers,function(o){return r.props[o]});var c=function(o){return o.onEditorChange!==void 0||o.value!==void 0},u=c(l),t=c(this.props);!u&&t?(this.editor.on(W,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):u&&!t&&(this.editor.off(W,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},s.propTypes=Ve,s.defaultProps={cloudChannel:"7"},s})(I.Component);const{Option:q}=p,Ze=({isEdit:n,onNext:s,onBack:l})=>{const[r]=a.useForm(),[c,u]=I.useState(1),[t,o]=I.useState("");I.useEffect(()=>{if(n){const{landAreaForValuation:y=0,landRate:N=0,constructionAreaForValuation:m=0,constructionRate:h=0}=n,g=y*N,O=m*h,D=g+O,k=(D*.8).toFixed(2);if(n.valuationRemarks){const b=Array.isArray(n.valuationRemarks)?n.valuationRemarks:[n.valuationRemarks];u(b.length)}r.setFieldsValue({...n,totalLandValuation:g,totalConstructionValuation:O,fairMarketValue:D,distressValue:k})}},[n,r]);const f=(y,N)=>{const{landAreaForValuation:m=0,landRate:h=0,constructionAreaForValuation:g=0,constructionRate:O=0}=N,D=m*h,k=g*O,b=D+k,A=(b*.8).toFixed(2);r.setFieldsValue({totalLandValuation:D,totalConstructionValuation:k,fairMarketValue:b,distressValue:A})},v=y=>{const N={...y,valuationRemarks:Array.isArray(y.valuationRemarks)?y.valuationRemarks:[y.valuationRemarks].filter(Boolean)};s(N)},j=()=>{u(y=>y+1)},x=y=>{u(h=>h-1);const m=[...r.getFieldValue("valuationRemarks")||[]];m.splice(y,1),r.setFieldsValue({valuationRemarks:m})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Valuation Details"}),e.jsxs(a,{layout:"vertical",form:r,onFinish:v,onValuesChange:f,className:"grid grid-cols-1 gap-4",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Land area (Sq. ft)"}),e.jsxs("div",{className:"flex max-w-4xl gap-4 justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"Document",name:"document",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"Plan",name:"landAreaPlan",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"Site",name:"landAreaSite",children:e.jsx(d,{type:"text",style:{width:"100%"}})})})]}),e.jsx("p",{className:"font-semibold mb-2",children:"Built Up Area (Proposed)"}),e.jsxs("div",{className:"flex gap-4 max-w-4xl",children:[e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"GF",name:"landAreaGF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"FF",name:"builtUpAreaFF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"SF",name:"builtUpAreaSF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})})]}),e.jsx("p",{className:"font-semibold mb-2",children:"Built Up Area (Existing)"}),e.jsxs("div",{className:"flex gap-4 max-w-4xl",children:[e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"GF",name:"existingBuiltUpGF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"FF",name:"existingBuiltUpFF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(a.Item,{label:"SF",name:"existingBuiltUpSF",children:e.jsx(d,{type:"text",style:{width:"100%"}})})})]}),e.jsx(a.Item,{label:"Land Area for Valuation",name:"landAreaForValuation",children:e.jsxs(p,{placeholder:"Select land area type",onChange:y=>o(y),children:[e.jsx(q,{value:"site",children:"Site"}),e.jsx(q,{value:"plan",children:"Plan"}),e.jsx(q,{value:"both",children:"Deed/ATS"})]})}),t==="site"&&e.jsx(a.Item,{label:"Site Area (sq. ft)",name:"siteArea",children:e.jsx(d,{placeholder:"Enter Site area"})}),t==="plan"&&e.jsx(a.Item,{label:"Plan Area (sq. ft)",name:"planArea",children:e.jsx(d,{placeholder:"Enter Plan area"})}),t==="both"&&e.jsx(a.Item,{label:"Deed/ATS Area (sq. ft)",name:"deedArea",children:e.jsx(d,{placeholder:"Enter Deed/ATS area"})}),e.jsx(a.Item,{label:"Land Rate considered per sq. Ft.",name:"landRate",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Total Land Valuation",name:"totalLandValuation",children:e.jsx(d,{type:"text",disabled:!0})}),e.jsx(a.Item,{label:"Construction Area considered for Valuation",name:"constructionAreaForValuation",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Construction Rate considered per sq. Ft",name:"constructionRate",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Total Construction Valuation",name:"totalConstructionValuation",children:e.jsx(d,{type:"text",disabled:!0})}),e.jsx(a.Item,{label:"Fair Market Value/ Total Value of the unit after completion",name:"fairMarketValue",children:e.jsx(d,{type:"text",disabled:!0})}),e.jsx(a.Item,{label:"Valuation at Present Stage ",name:"ValuationatPresentStage",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Valuation as per Govt. Guideline ",name:"ValuationasperGovtGuideline",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Realizable Value",name:"realizableValue",children:e.jsx(d,{type:"text"})}),e.jsx(a.Item,{label:"Distress Value (80%)",name:"distressValue",children:e.jsx(d,{type:"text",disabled:!0})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"ant-form-item-label",children:"Valuation Remarks"}),Array.from({length:c}).map((y,N)=>e.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[e.jsx(a.Item,{name:["valuationRemarks",N],noStyle:!0,children:e.jsx(d.TextArea,{rows:2,style:{width:"90%"}})}),N>0&&e.jsx(P,{type:"text",danger:!0,icon:e.jsx(Oe,{}),onClick:()=>x(N)})]},N)),e.jsx(P,{type:"dashed",onClick:j,icon:e.jsx(Ce,{}),className:"mt-2",children:"Add Remark"})]}),e.jsxs(a.Item,{className:"text-right",children:[l&&e.jsx(P,{type:"default",onClick:l,className:"mr-2 px-4 py-2 bg-gray-500 rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})},ze=({isEdit:n,onNext:s,onBack:l})=>{const[r]=a.useForm();fe.useEffect(()=>{n&&r.setFieldsValue(n)},[n,r]);const c=u=>{const t={...u};s(t)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"LOCALITY AND NDMA DETAILS"}),e.jsxs(a,{layout:"vertical",form:r,onFinish:c,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(V,{orientation:"left",className:"md:col-span-2",children:"LOCALITY DETAILS"}),e.jsxs("div",{children:[e.jsx(a.Item,{label:"Locality Development",name:"localityDevelopment",initialValue:"Under Developed",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Under Developed",children:"Under Developed"}),e.jsx(p.Option,{value:"Developed",children:"Developed"}),e.jsx(p.Option,{value:"Semi Developed",children:"Semi Developed"})]})}),e.jsx(a.Item,{label:"Type of Approach Road",name:"approachRoadType",initialValue:"RCC",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"RCC",children:"RCC"}),e.jsx(p.Option,{value:"Kutcha",children:"Kutcha"}),e.jsx(p.Option,{value:"Pucca",children:"Pucca"})]})}),e.jsx(a.Item,{label:"Approach Road Width (In Feet)",name:"approachRoadWidth",initialValue:"15 FT",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Distance from city centre (in KM)",name:"distanceFromCityCentre",initialValue:"9 KM",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Distance from Railway Station (in KM)",name:"distanceFromRailwayStation",initialValue:"9 KM",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Distance from Bus Stand (in KM)",name:"distanceFromBusStand",initialValue:"4 KM",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Distance from Hospital (in KM)",name:"distanceFromHospital",initialValue:"4 KM",children:e.jsx(d,{})})]}),e.jsxs("div",{children:[e.jsx(a.Item,{label:"Occupancy of Project/Area (%)",name:"occupancyPercentage",initialValue:"30%",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Habitation in surrounding Area",name:"habitationPercentage",initialValue:"40%",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Proposed Road Widening",name:"proposedRoadWidening",initialValue:"No",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Name of City Centre Considered",name:"cityCentreName",initialValue:"GWALIOR",children:e.jsx(d,{})}),e.jsx(a.Item,{label:"Drainage Line connection",name:"drainageConnection",initialValue:"Yes",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Water & Electricity Supply Connection",name:"waterElectricityConnection",initialValue:"Yes",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Nallah, River, High tension line if any",name:"nallahRiverHighTension",initialValue:"NA",children:e.jsx(d,{})})]}),e.jsx(V,{orientation:"left",className:"md:col-span-2",children:"NDMA GUIDELINES"}),e.jsxs("div",{children:[e.jsx(a.Item,{label:"Property Falls under Seismic Zone",name:"seismicZone",initialValue:"III",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"I",children:"Zone I"}),e.jsx(p.Option,{value:"II",children:"Zone II"}),e.jsx(p.Option,{value:"III",children:"Zone III"}),e.jsx(p.Option,{value:"IV",children:"Zone IV"}),e.jsx(p.Option,{value:"V",children:"Zone V"})]})}),e.jsx(a.Item,{label:"Property Falls under Cyclone Zone",name:"cycloneZone",initialValue:"No",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Property falls under Landslide Prone Zone",name:"landslideProneZone",initialValue:"No",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Degree of Risk Associated",name:"degreeOfRisk",initialValue:"Medium",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"High",children:"High"}),e.jsx(p.Option,{value:"Medium",children:"Medium"}),e.jsx(p.Option,{value:"Low",children:"Low"})]})})]}),e.jsxs("div",{children:[e.jsx(a.Item,{label:"Property Falls under Flood Zone",name:"floodZone",initialValue:"NO",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"YES",children:"YES"}),e.jsx(p.Option,{value:"NO",children:"NO"})]})}),e.jsx(a.Item,{label:"Property Falls in CR Zone",name:"crZone",initialValue:"NO",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"YES",children:"YES"}),e.jsx(p.Option,{value:"NO",children:"NO"})]})}),e.jsx(a.Item,{label:"Follows NDMA Guidelines",name:"followsNDMAGuidelines",initialValue:"Yes",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})}),e.jsx(a.Item,{label:"Any Demolition Risk with Details Propety falls in",name:"demolitionRisk",initialValue:"None",children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"None",children:"None"}),e.jsx(p.Option,{value:"Demolition List",children:"Demolition List"}),e.jsx(p.Option,{value:"Forest Land",children:"Forest Land"}),e.jsx(p.Option,{value:"Govt Land",children:"Govt Land"}),e.jsx(p.Option,{value:"Govt Notification",children:"Govt Notification"}),e.jsx(p.Option,{value:"Road Widening",children:"Road Widening"}),e.jsx(p.Option,{value:"NII",children:"NII"})]})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(a.Item,{className:"text-right",children:[l&&e.jsx(P,{type:"default",onClick:l,className:"mr-2 px-4 py-2 bg-gray-500 rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})})]})]})},$e=({isEdit:n,onNext:s,onBack:l,initialValues:r})=>{const[c]=a.useForm();I.useEffect(()=>{if(n||r){const o=n||r;c.setFieldsValue({deviationToPlan:o.deviationToPlan||"No",deviationDetails:o.deviationDetails||"NA",demolitionRisk:o.demolitionRisk||"No",demolitionDetails:o.demolitionDetails||"NA",encroachment:o.encroachment||"No",encroachmentDetails:o.encroachmentDetails||"NA"})}},[n,r,c]);const u=o=>{s(o)},t=o=>{"deviationToPlan"in o&&o.deviationToPlan==="No"&&c.setFieldsValue({deviationDetails:"NA"}),"demolitionRisk"in o&&o.demolitionRisk==="No"&&c.setFieldsValue({demolitionDetails:"NA"}),"encroachment"in o&&o.encroachment==="No"&&c.setFieldsValue({encroachmentDetails:"NA"})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"VIOLATION OBSERVED, IF ANY"}),e.jsxs(a,{form:c,layout:"vertical",onFinish:u,onValuesChange:t,initialValues:{deviationToPlan:"No",deviationDetails:"NA",demolitionRisk:"No",demolitionDetails:"NA",encroachment:"No",encroachmentDetails:"NA"},children:[e.jsx(M,{gutter:16,children:e.jsxs(R,{span:24,children:[e.jsx(V,{orientation:"left",children:"Deviation to Plan"}),e.jsxs(M,{gutter:16,children:[e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"deviationToPlan",label:"Deviation to Plan",rules:[{required:!0}],children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})})}),e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"deviationDetails",label:"If yes",rules:[({getFieldValue:o})=>({required:o("deviationToPlan")==="Yes",message:"Please provide deviation details"})],children:e.jsx(d,{disabled:c.getFieldValue("deviationToPlan")==="No"})})})]}),e.jsx(V,{orientation:"left",children:"Demolition Risk"}),e.jsxs(M,{gutter:16,children:[e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"demolitionRisk",label:"Demolition Risk",rules:[{required:!0}],children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})})}),e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"demolitionDetails",label:"If yes",rules:[({getFieldValue:o})=>({required:o("demolitionRisk")==="Yes",message:"Please provide demolition details"})],children:e.jsx(d,{disabled:c.getFieldValue("demolitionRisk")==="No"})})})]}),e.jsx(V,{orientation:"left",children:"Encroachment"}),e.jsxs(M,{gutter:16,children:[e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"encroachment",label:"Encroachment",rules:[{required:!0}],children:e.jsxs(p,{children:[e.jsx(p.Option,{value:"Yes",children:"Yes"}),e.jsx(p.Option,{value:"No",children:"No"})]})})}),e.jsx(R,{span:12,children:e.jsx(a.Item,{name:"encroachmentDetails",label:"If yes",rules:[({getFieldValue:o})=>({required:o("encroachment")==="Yes",message:"Please provide encroachment details"})],children:e.jsx(d,{disabled:c.getFieldValue("encroachment")==="No"})})})]})]})}),e.jsxs(a.Item,{className:"text-right",children:[l&&e.jsx(P,{type:"default",onClick:l,className:"mr-2",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Submit"})]})]})]})},_n=()=>{var k;const n=xe(),{loading:s,error:l}=Z(b=>b.hfBanks),r=Z(b=>b.auth.user),c=ve(),[u,t]=I.useState(1),[o,f]=I.useState({}),[v,j]=I.useState({}),{id:x}=se(),y=async b=>{try{const A=await n(ye(b)).unwrap();f(A)}catch(A){console.error("Error fetching data:",A)}};I.useEffect(()=>{x&&y(x)},[x,n]);const N=async()=>{const b={...v.step1,...v.step2,...v.step3,...v.step4,...v.step5,...v.step6};try{await n(ge({id:x,bankName:"home-first",updateData:b})).unwrap(),F.success("Case submitted finally!"),c("/")}catch(A){console.error("Final submission failed",A),F.error("Final submission failed")}},m=async b=>{const A={...v,[`step${u}`]:b};if(j(A),x)try{await n(E({id:x,...b})).unwrap(),F.success(`Step ${u} updated successfully`),await y(x)}catch(w){console.error("Step update failed:",w),F.error("Failed to update this step");return}if(r.role==="FieldOfficer"&&u===1){try{await n(E({id:x,...b})).unwrap(),F.success("Form updated successfully"),c("/field/dashboard")}catch(w){console.error("Submission failed:",w),F.error("Failed to submit form")}return}if(u===6&&x&&r.role==="Admin"){const w={...A.step1,...A.step2,...A.step3,...A.step4,...A.step5,...A.step6};try{const T=await n(E({id:x,...w})).unwrap();F.success("Form updated successfully"),c(`/bank/home-first/${T==null?void 0:T._id}`)}catch(T){console.error("Update failed:",T),F.error("Failed to update form")}return}if(u===6){const w={...A.step1,...A.step2,...A.step3,...A.step4,...A.step5,...A.step6};try{const T=await n(je(w)).unwrap();F.success("Form submitted successfully"),c(`/bank/home-first/${T._id}`)}catch(T){console.error("Creation failed:",T),F.error("Failed to submit form")}return}t(w=>w+1)},h=()=>{t(b=>b>1?b-1:b)},g=b=>{t(b)},O=(r==null?void 0:r.role)==="FieldOfficer",D=[{id:1,label:"L & T ASSIGNMENT DETAILS",component:e.jsx(Fe,{isEdit:o,onNext:m})},{id:2,label:"General & Document Details ",component:e.jsx(ke,{isEdit:o,onNext:m,onBack:h})},{id:3,label:"Locality & NDMA Details",component:e.jsx(ze,{isEdit:o,onNext:m,onBack:h})},{id:4,label:"Property & Strultural  Details",component:e.jsx(Re,{isEdit:o,onNext:m,onBack:h})},{id:5,label:"Valuation Details",component:e.jsx(Ze,{isEdit:o,onNext:m,onBack:h})},{id:6,label:"Violation Observed",component:e.jsx($e,{isEdit:o,onNext:m,onBack:h})}].filter(b=>!O||b.id===1);return e.jsx("div",{className:"bg-gray-100 py-2 px-2  relative",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white shadow rounded p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Home First Bank Report Form"})}),e.jsx("div",{className:"flex  border-gray-200 gap-2 p-5  ",children:D.map(b=>e.jsx("button",{className:`py-4 rounded-sm  px-4 font-medium border  text-sm focus:outline-none ${u===b.id?"border-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>g(b.id),children:b.label},b.id))}),e.jsx("div",{className:"p-4",children:(k=D.find(b=>b.id===u))==null?void 0:k.component}),u===6&&x&&(r==null?void 0:r.role)==="Admin"&&e.jsx("div",{className:"mt-6 text-right",children:e.jsx("button",{onClick:N,className:"ml-4 px-5 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Final Submit"})}),s&&e.jsx("p",{className:"text-blue-600",children:"Submitting..."}),l&&e.jsxs("p",{className:"text-red-600",children:["Error: ",l]})]})})};export{_n as default};
