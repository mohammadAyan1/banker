import{i as f,a1 as C,a as w,h as R,j as s,aP as P}from"./index-Cwaqwj_s.js";import{h as V,E as A}from"./jspdf.es.min-Be3XACEb.js";import{u as h,w as S}from"./xlsx-x9ZxUr7s.js";import{F as j}from"./FileSaver.min-DVxi4_QD.js";const _=()=>{const y=f(),{id:x}=C(),N=async r=>{try{await y(P(r))}catch(a){console.log(a)}};w.useEffect(()=>{x&&N(x)},[x]);const{singleDetail:e}=R(r=>r.manappuram)||{},i=r=>r?new Date(r).toLocaleDateString():"",u=()=>{const r=document.getElementById("reportContainer");V(r,{scale:2,useCORS:!0}).then(a=>{const d=a.toDataURL("image/png"),t=new A("p","mm","a4"),v=t.internal.pageSize.getWidth(),l=t.internal.pageSize.getHeight(),c=10,m=v-c*2,n=a.height*m/a.width;let p=c,o=n;if(n>l-c*2)for(;o>0;)t.addImage(d,"PNG",c,p,m,n),o-=l-c*2,o>0&&(t.addPage(),p=c-(n-o));else t.addImage(d,"PNG",c,c,m,n);t.save("Manappuram_Technical_Report.pdf")})},g=()=>{const r=document.getElementById("reportTable"),a=h.table_to_book(r,{sheet:"Report"}),d=S(a,{bookType:"xlsx",type:"array"}),t=new Blob([d],{type:"application/octet-stream"});j.saveAs(t,"Manappuram_Technical_Report.xlsx")},b=()=>{const r=document.getElementById("reportTable"),a=h.table_to_sheet(r),d=h.sheet_to_csv(a),t=new Blob([d],{type:"text/csv;charset=utf-8;"});j.saveAs(t,"Manappuram_Technical_Report.csv")};return s.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Valuation Report"}),s.jsxs("div",{className:"space-x-2",children:[s.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"PDF"}),s.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Excel"}),s.jsx("button",{onClick:b,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors",children:"CSV"})]})]}),s.jsxs("div",{id:"reportContainer",className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("table",{id:"reportTable",className:"hidden"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-b pb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Valuer Name"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.valuerName)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Date of Visit"}),s.jsx("p",{className:"text-gray-900",children:i(e==null?void 0:e.dateOfVisit)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Case Ref. No"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.caseRefNo)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Date of Report"}),s.jsx("p",{className:"text-gray-900",children:i(e==null?void 0:e.dateOfReport)||"-"})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Contacted Person for property inspection"}),s.jsxs("p",{className:"text-gray-900",children:[(e==null?void 0:e.contactPersonName)||"-"," ",(e==null?void 0:e.contactPersonMobile)||""]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Property Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Applicant/s Name/s"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.applicantsName)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Owner"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.owner)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Document Produced"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.documentProduced)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Type of property"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.propertyType)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Current Usage"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.propertyUsage)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Holding Type"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.holdingType)||"-"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Usage Authorized"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.usageAuthorized)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Usage Restriction"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.usageRestriction)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Occupancy Status"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.occupancyStatus)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Measurement"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.measurement)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Distance from Branch"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.distanceFromBranch)||"-"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Location Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Address"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.addressAsPerDocument)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Land Mark"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.landMark)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Location"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.location)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Connectivity"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.connectivity)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Site Access"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.siteAccess)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Proximity to Amenities"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.proximityToAmenities)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Distance from City Centre"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.distanceFromCityCentre)||"-"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-3",children:"Boundaries"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"East"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.eastBoundary)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"West"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.westBoundary)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"North"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.northBoundary)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"South"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.southBoundary)||"-"})]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-xl text-gray-900 mb-4",children:"Valuation Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Land Component (GLR)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Area"}),s.jsx("p",{children:(e==null?void 0:e.landComponentArea)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Rate"}),s.jsx("p",{children:(e==null?void 0:e.landComponentRate)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Value"}),s.jsx("p",{children:(e==null?void 0:e.landComponentValue)||"-"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Land Component (PMR)"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Area"}),s.jsx("p",{children:(e==null?void 0:e.landComponentPMARea)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Rate"}),s.jsx("p",{children:(e==null?void 0:e.landComponentPMRRate)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Value"}),s.jsx("p",{children:(e==null?void 0:e.landComponentPMRValue)||"-"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[s.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Construction Component"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Area"}),s.jsx("p",{children:(e==null?void 0:e.constructionComponentArea)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Rate"}),s.jsx("p",{children:(e==null?void 0:e.constructionComponentRate)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm text-gray-500",children:"Value"}),s.jsx("p",{children:(e==null?void 0:e.constructionComponentValue)||"-"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Total Value"}),s.jsx("p",{className:"text-lg",children:(e==null?void 0:e.totalValue)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Distress Sale Value"}),s.jsx("p",{className:"text-lg",children:(e==null?void 0:e.distressSaleValue)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Present Market Value"}),s.jsx("p",{className:"text-lg",children:(e==null?void 0:e.presentMarketValue)||"-"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Forced Sale Value"}),s.jsx("p",{className:"text-lg",children:(e==null?void 0:e.forcedSaleValue)||"-"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-800 mb-2",children:"Additional Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Observations"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:(e==null?void 0:e.observations)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Property Description"}),s.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:(e==null?void 0:e.propertyDescription)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Name of Applicant"}),s.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.nameOfApplicant)||"-"})]})]})]})]})]})]})};export{_ as default};
