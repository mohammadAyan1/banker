import{a as o,bi as Gr,bj as Ur,a_ as Kr,aZ as Jr,bG as Nr,bA as Wr,bw as Ar,aw as W,c4 as vr,aC as Zr,b9 as Qr,ac as yr,bN as Cr,ax as L,bp as Pe,b1 as _r,by as pr,c5 as Yr,b as at,au as Hr,b0 as be,b2 as Xr,bI as en,c6 as dr,aB as Sr,c7 as hr,aA as tn,av as Br}from"./index-w41rB-zE.js";import{i as rn}from"./isVisible-DhUEo0yb.js";var mr=o.createContext(null);function nn(e){var r=e.children,t=e.onBatchResize,n=o.useRef(0),a=o.useRef([]),i=o.useContext(mr),u=o.useCallback(function(v,l,f){n.current+=1;var _=n.current;a.current.push({size:v,element:l,data:f}),Promise.resolve().then(function(){_===n.current&&(t==null||t(a.current),a.current=[])}),i==null||i(v,l,f)},[t,i]);return o.createElement(mr.Provider,{value:u},r)}var Fr=function(){if(typeof Map<"u")return Map;function e(r,t){var n=-1;return r.some(function(a,i){return a[0]===t?(n=i,!0):!1}),n}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(t){var n=e(this.__entries__,t),a=this.__entries__[n];return a&&a[1]},r.prototype.set=function(t,n){var a=e(this.__entries__,t);~a?this.__entries__[a][1]=n:this.__entries__.push([t,n])},r.prototype.delete=function(t){var n=this.__entries__,a=e(n,t);~a&&n.splice(a,1)},r.prototype.has=function(t){return!!~e(this.__entries__,t)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var a=0,i=this.__entries__;a<i.length;a++){var u=i[a];t.call(n,u[1],u[0])}},r}()}(),gr=typeof window<"u"&&typeof document<"u"&&window.document===document,It=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),an=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(It):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),on=2;function sn(e,r){var t=!1,n=!1,a=0;function i(){t&&(t=!1,e()),n&&v()}function u(){an(i)}function v(){var l=Date.now();if(t){if(l-a<on)return;n=!0}else t=!0,n=!1,setTimeout(u,r);a=l}return v}var un=20,ln=["top","right","bottom","left","width","height","size","weight"],cn=typeof MutationObserver<"u",vn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=sn(this.refresh.bind(this),un)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var t=this.observers_,n=t.indexOf(r);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return r.forEach(function(t){return t.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!gr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),cn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!gr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var t=r.propertyName,n=t===void 0?"":t,a=ln.some(function(i){return!!~n.indexOf(i)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Vr=function(e,r){for(var t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];Object.defineProperty(e,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return e},it=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||It},jr=qt(0,0,0,0);function Ot(e){return parseFloat(e)||0}function Pr(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return r.reduce(function(n,a){var i=e["border-"+a+"-width"];return n+Ot(i)},0)}function fn(e){for(var r=["top","right","bottom","left"],t={},n=0,a=r;n<a.length;n++){var i=a[n],u=e["padding-"+i];t[i]=Ot(u)}return t}function dn(e){var r=e.getBBox();return qt(0,0,r.width,r.height)}function hn(e){var r=e.clientWidth,t=e.clientHeight;if(!r&&!t)return jr;var n=it(e).getComputedStyle(e),a=fn(n),i=a.left+a.right,u=a.top+a.bottom,v=Ot(n.width),l=Ot(n.height);if(n.boxSizing==="border-box"&&(Math.round(v+i)!==r&&(v-=Pr(n,"left","right")+i),Math.round(l+u)!==t&&(l-=Pr(n,"top","bottom")+u)),!gn(e)){var f=Math.round(v+i)-r,_=Math.round(l+u)-t;Math.abs(f)!==1&&(v-=f),Math.abs(_)!==1&&(l-=_)}return qt(a.left,a.top,v,l)}var mn=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof it(e).SVGGraphicsElement}:function(e){return e instanceof it(e).SVGElement&&typeof e.getBBox=="function"}}();function gn(e){return e===it(e).document.documentElement}function bn(e){return gr?mn(e)?dn(e):hn(e):jr}function yn(e){var r=e.x,t=e.y,n=e.width,a=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(i.prototype);return Vr(u,{x:r,y:t,width:n,height:a,top:t,right:r+n,bottom:a+t,left:r}),u}function qt(e,r,t,n){return{x:e,y:r,width:t,height:n}}var wn=function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qt(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=bn(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e}(),Mn=function(){function e(r,t){var n=yn(t);Vr(this,{target:r,contentRect:n})}return e}(),Cn=function(){function e(r,t,n){if(this.activeObservations_=[],this.observations_=new Fr,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof it(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(r)||(t.set(r,new wn(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof it(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(r)&&(t.delete(r),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&r.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new Mn(n.target,n.broadcastRect())});this.callback_.call(r,t,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ir=typeof WeakMap<"u"?new WeakMap:new Fr,Or=function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=vn.getInstance(),n=new Cn(r,t,this);Ir.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Or.prototype[e]=function(){var r;return(r=Ir.get(this))[e].apply(r,arguments)}});var _n=function(){return typeof It.ResizeObserver<"u"?It.ResizeObserver:Or}(),Be=new Map;function Sn(e){e.forEach(function(r){var t,n=r.target;(t=Be.get(n))===null||t===void 0||t.forEach(function(a){return a(n)})})}var qr=new _n(Sn);function Pn(e,r){Be.has(e)||(Be.set(e,new Set),qr.observe(e)),Be.get(e).add(r)}function Rn(e,r){Be.has(e)&&(Be.get(e).delete(r),Be.get(e).size||(qr.unobserve(e),Be.delete(e)))}var kn=function(e){Gr(t,e);var r=Ur(t);function t(){return Kr(this,t),r.apply(this,arguments)}return Jr(t,[{key:"render",value:function(){return this.props.children}}]),t}(o.Component);function En(e,r){var t=e.children,n=e.disabled,a=o.useRef(null),i=o.useRef(null),u=o.useContext(mr),v=typeof t=="function",l=v?t(a):t,f=o.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),_=!v&&o.isValidElement(l)&&Nr(l),m=_?Wr(l):null,M=Ar(m,a),d=function(){var b;return vr(a.current)||(a.current&&Zr(a.current)==="object"?vr((b=a.current)===null||b===void 0?void 0:b.nativeElement):null)||vr(i.current)};o.useImperativeHandle(r,function(){return d()});var S=o.useRef(e);S.current=e;var E=o.useCallback(function(g){var b=S.current,T=b.onResize,C=b.data,$=g.getBoundingClientRect(),A=$.width,h=$.height,G=g.offsetWidth,V=g.offsetHeight,ve=Math.floor(A),ae=Math.floor(h);if(f.current.width!==ve||f.current.height!==ae||f.current.offsetWidth!==G||f.current.offsetHeight!==V){var fe={width:ve,height:ae,offsetWidth:G,offsetHeight:V};f.current=fe;var ie=G===Math.round(A)?A:G,oe=V===Math.round(h)?h:V,U=W(W({},fe),{},{offsetWidth:ie,offsetHeight:oe});u==null||u(U,g,C),T&&Promise.resolve().then(function(){T(U,g)})}},[]);return o.useEffect(function(){var g=d();return g&&!n&&Pn(g,E),function(){return Rn(g,E)}},[a.current,n]),o.createElement(kn,{ref:i},_?o.cloneElement(l,{ref:M}):l)}var zn=o.forwardRef(En),Dn="rc-observer-key";function Tn(e,r){var t=e.children,n=typeof t=="function"?[t]:Qr(t);return n.map(function(a,i){var u=(a==null?void 0:a.key)||"".concat(Dn,"-").concat(i);return o.createElement(zn,yr({},e,{key:u,ref:i===0?r:void 0}),a)})}var wr=o.forwardRef(Tn);wr.Collection=nn;function fr(e){return e!==void 0}function pn(e,r){var t=r||{},n=t.defaultValue,a=t.value,i=t.onChange,u=t.postState,v=Cr(function(){return fr(a)?a:fr(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),l=L(v,2),f=l[0],_=l[1],m=a!==void 0?a:f,M=u?u(m):m,d=Pe(i),S=Cr([m]),E=L(S,2),g=E[0],b=E[1];_r(function(){var C=g[0];f!==C&&d(f,C)},[g]),_r(function(){fr(a)||_(a)},[a]);var T=Pe(function(C,$){_(C,$),b([m],$)});return[M,T]}const Yn=e=>{const[,,,,r]=pr();return r?`${e}-css-var`:""},xn=e=>({animationDuration:e,animationFillMode:"both"}),Ln=e=>({animationDuration:e,animationFillMode:"both"}),Xn=(e,r,t,n,a=!1)=>{const i=a?"&":"";return{[`
      ${i}${e}-enter,
      ${i}${e}-appear
    `]:Object.assign(Object.assign({},xn(n)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},Ln(n)),{animationPlayState:"paused"}),[`
      ${i}${e}-enter${e}-enter-active,
      ${i}${e}-appear${e}-appear-active
    `]:{animationName:r,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}};function $n(){var e=W({},Yr);return e.useId}var Rr=0,kr=$n();const Nn=kr?function(r){var t=kr();return r||t}:function(r){var t=o.useState("ssr-id"),n=L(t,2),a=n[0],i=n[1];return o.useEffect(function(){var u=Rr;Rr+=1,i("rc_unique_".concat(u))},[]),r||a},Wn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function An(e){var r=e.prefixCls,t=e.align,n=e.arrow,a=e.arrowPos,i=n||{},u=i.className,v=i.content,l=a.x,f=l===void 0?0:l,_=a.y,m=_===void 0?0:_,M=o.useRef();if(!t||!t.points)return null;var d={position:"absolute"};if(t.autoArrow!==!1){var S=t.points[0],E=t.points[1],g=S[0],b=S[1],T=E[0],C=E[1];g===T||!["t","b"].includes(g)?d.top=m:g==="t"?d.top=0:d.bottom=0,b===C||!["l","r"].includes(b)?d.left=f:b==="l"?d.left=0:d.right=0}return o.createElement("div",{ref:M,className:at("".concat(r,"-arrow"),u),style:d},v)}function Hn(e){var r=e.prefixCls,t=e.open,n=e.zIndex,a=e.mask,i=e.motion;return a?o.createElement(Hr,yr({},i,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(u){var v=u.className;return o.createElement("div",{style:{zIndex:n},className:at("".concat(r,"-mask"),v)})}):null}var Bn=o.memo(function(e){var r=e.children;return r},function(e,r){return r.cache}),Fn=o.forwardRef(function(e,r){var t=e.popup,n=e.className,a=e.prefixCls,i=e.style,u=e.target,v=e.onVisibleChanged,l=e.open,f=e.keepDom,_=e.fresh,m=e.onClick,M=e.mask,d=e.arrow,S=e.arrowPos,E=e.align,g=e.motion,b=e.maskMotion,T=e.forceRender,C=e.getPopupContainer,$=e.autoDestroy,A=e.portal,h=e.zIndex,G=e.onMouseEnter,V=e.onMouseLeave,ve=e.onPointerEnter,ae=e.onPointerDownCapture,fe=e.ready,ie=e.offsetX,oe=e.offsetY,U=e.offsetR,ye=e.offsetB,N=e.onAlign,B=e.onPrepare,y=e.stretch,se=e.targetWidth,K=e.targetHeight,j=typeof t=="function"?t():t,w=l||f,Re=(C==null?void 0:C.length)>0,ot=o.useState(!C||!Re),ke=L(ot,2),p=ke[0],st=ke[1];if(be(function(){!p&&Re&&u&&st(!0)},[p,Re,u]),!p)return null;var de="auto",J={left:"-1000vw",top:"-1000vh",right:de,bottom:de};if(fe||!l){var Fe,Ve=E.points,Ee=E.dynamicInset||((Fe=E._experimental)===null||Fe===void 0?void 0:Fe.dynamicInset),he=Ee&&Ve[0][1]==="r",Y=Ee&&Ve[0][0]==="b";he?(J.right=U,J.left=de):(J.left=ie,J.right=de),Y?(J.bottom=ye,J.top=de):(J.top=oe,J.bottom=de)}var I={};return y&&(y.includes("height")&&K?I.height=K:y.includes("minHeight")&&K&&(I.minHeight=K),y.includes("width")&&se?I.width=se:y.includes("minWidth")&&se&&(I.minWidth=se)),l||(I.pointerEvents="none"),o.createElement(A,{open:T||w,getContainer:C&&function(){return C(u)},autoDestroy:$},o.createElement(Hn,{prefixCls:a,open:l,zIndex:h,mask:M,motion:b}),o.createElement(wr,{onResize:N,disabled:!l},function(we){return o.createElement(Hr,yr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:B,onEnterPrepare:B,visible:l,onVisibleChanged:function(De){var Z;g==null||(Z=g.onVisibleChanged)===null||Z===void 0||Z.call(g,De),v(De)}}),function(ze,De){var Z=ze.className,je=ze.style,X=at(a,Z,n);return o.createElement("div",{ref:Xr(we,r,De),className:X,style:W(W(W(W({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},J),I),je),{},{boxSizing:"border-box",zIndex:h},i),onMouseEnter:G,onMouseLeave:V,onPointerEnter:ve,onClick:m,onPointerDownCapture:ae},d&&o.createElement(An,{prefixCls:a,arrow:d,arrowPos:S,align:E}),o.createElement(Bn,{cache:!l&&!_},j))})}))}),Vn=o.forwardRef(function(e,r){var t=e.children,n=e.getTriggerDOMNode,a=Nr(t),i=o.useCallback(function(v){en(r,n?n(v):v)},[n]),u=Ar(i,Wr(t));return a?o.cloneElement(t,{ref:u}):t}),Er=o.createContext(null);function zr(e){return e?Array.isArray(e)?e:[e]:[]}function jn(e,r,t,n){return o.useMemo(function(){var a=zr(t??r),i=zr(n??r),u=new Set(a),v=new Set(i);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[u,v]},[e,r,t,n])}function In(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?e[0]===r[0]:e[0]===r[0]&&e[1]===r[1]}function On(e,r,t,n){for(var a=t.points,i=Object.keys(e),u=0;u<i.length;u+=1){var v,l=i[u];if(In((v=e[l])===null||v===void 0?void 0:v.points,a,n))return"".concat(r,"-placement-").concat(l)}return""}function Dr(e,r,t,n){return r||(t?{motionName:"".concat(e,"-").concat(t)}:n?{motionName:n}:null)}function yt(e){return e.ownerDocument.defaultView}function br(e){for(var r=[],t=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];t;){var a=yt(t).getComputedStyle(t),i=a.overflowX,u=a.overflowY,v=a.overflow;[i,u,v].some(function(l){return n.includes(l)})&&r.push(t),t=t.parentElement}return r}function bt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?r:e}function gt(e){return bt(parseFloat(e),0)}function Tr(e,r){var t=W({},e);return(r||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=yt(n).getComputedStyle(n),i=a.overflow,u=a.overflowClipMargin,v=a.borderTopWidth,l=a.borderBottomWidth,f=a.borderLeftWidth,_=a.borderRightWidth,m=n.getBoundingClientRect(),M=n.offsetHeight,d=n.clientHeight,S=n.offsetWidth,E=n.clientWidth,g=gt(v),b=gt(l),T=gt(f),C=gt(_),$=bt(Math.round(m.width/S*1e3)/1e3),A=bt(Math.round(m.height/M*1e3)/1e3),h=(S-E-T-C)*$,G=(M-d-g-b)*A,V=g*A,ve=b*A,ae=T*$,fe=C*$,ie=0,oe=0;if(i==="clip"){var U=gt(u);ie=U*$,oe=U*A}var ye=m.x+ae-ie,N=m.y+V-oe,B=ye+m.width+2*ie-ae-fe-h,y=N+m.height+2*oe-V-ve-G;t.left=Math.max(t.left,ye),t.top=Math.max(t.top,N),t.right=Math.min(t.right,B),t.bottom=Math.min(t.bottom,y)}}),t}function xr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(r),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Lr(e,r){var t=r||[],n=L(t,2),a=n[0],i=n[1];return[xr(e.width,a),xr(e.height,i)]}function $r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function nt(e,r){var t=r[0],n=r[1],a,i;return t==="t"?i=e.y:t==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:i}}function He(e,r){var t={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===r?t[n]||"c":n}).join("")}function qn(e,r,t,n,a,i,u){var v=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),l=L(v,2),f=l[0],_=l[1],m=o.useRef(0),M=o.useMemo(function(){return r?br(r):[]},[r]),d=o.useRef({}),S=function(){d.current={}};e||S();var E=Pe(function(){if(r&&t&&e){let ne=function(mt,Se){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut,Bt=w.x+mt,Ft=w.y+Se,ur=Bt+Y,lr=Ft+he,s=Math.max(Bt,pe.left),c=Math.max(Ft,pe.top),k=Math.min(ur,pe.right),x=Math.min(lr,pe.bottom);return Math.max(0,(k-s)*(x-c))},rt=function(){Le=w.y+z,$e=Le+he,Ge=w.x+R,_e=Ge+Y};var T,C,$,A,h=r,G=h.ownerDocument,V=yt(h),ve=V.getComputedStyle(h),ae=ve.position,fe=h.style.left,ie=h.style.top,oe=h.style.right,U=h.style.bottom,ye=h.style.overflow,N=W(W({},a[n]),i),B=G.createElement("div");(T=h.parentElement)===null||T===void 0||T.appendChild(B),B.style.left="".concat(h.offsetLeft,"px"),B.style.top="".concat(h.offsetTop,"px"),B.style.position=ae,B.style.height="".concat(h.offsetHeight,"px"),B.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden";var y;if(Array.isArray(t))y={x:t[0],y:t[1],width:0,height:0};else{var se,K,j=t.getBoundingClientRect();j.x=(se=j.x)!==null&&se!==void 0?se:j.left,j.y=(K=j.y)!==null&&K!==void 0?K:j.top,y={x:j.x,y:j.y,width:j.width,height:j.height}}var w=h.getBoundingClientRect(),Re=V.getComputedStyle(h),ot=Re.height,ke=Re.width;w.x=(C=w.x)!==null&&C!==void 0?C:w.left,w.y=($=w.y)!==null&&$!==void 0?$:w.top;var p=G.documentElement,st=p.clientWidth,de=p.clientHeight,J=p.scrollWidth,Fe=p.scrollHeight,Ve=p.scrollTop,Ee=p.scrollLeft,he=w.height,Y=w.width,I=y.height,we=y.width,ze={left:0,top:0,right:st,bottom:de},De={left:-Ee,top:-Ve,right:J-Ee,bottom:Fe-Ve},Z=N.htmlRegion,je="visible",X="visibleFirst";Z!=="scroll"&&Z!==X&&(Z=je);var Ie=Z===X,Gt=Tr(De,M),P=Tr(ze,M),ut=Z===je?P:Gt,H=Ie?P:ut;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var wt=h.getBoundingClientRect();h.style.left=fe,h.style.top=ie,h.style.right=oe,h.style.bottom=U,h.style.overflow=ye,(A=h.parentElement)===null||A===void 0||A.removeChild(B);var Me=bt(Math.round(Y/parseFloat(ke)*1e3)/1e3),Te=bt(Math.round(he/parseFloat(ot)*1e3)/1e3);if(Me===0||Te===0||dr(t)&&!rn(t))return;var Ut=N.offset,Mt=N.targetOffset,me=Lr(w,Ut),Ct=L(me,2),ee=Ct[0],ue=Ct[1],Ye=Lr(y,Mt),Q=L(Ye,2),xe=Q[0],Kt=Q[1];y.x-=xe,y.y-=Kt;var Jt=N.points||[],_t=L(Jt,2),Zt=_t[0],St=_t[1],Ce=$r(St),O=$r(Zt),F=nt(y,Ce),Pt=nt(w,O),te=W({},N),R=F.x-Pt.x+ee,z=F.y-Pt.y+ue,le=ne(R,z),Oe=ne(R,z,P),re=nt(y,["t","l"]),Rt=nt(w,["t","l"]),lt=nt(y,["b","r"]),Xe=nt(w,["b","r"]),qe=N.overflow||{},Qt=qe.adjustX,kt=qe.adjustY,et=qe.shiftX,ct=qe.shiftY,Et=function(Se){return typeof Se=="boolean"?Se:Se>=0},Le,$e,Ge,_e;rt();var zt=Et(kt),q=O[0]===Ce[0];if(zt&&O[0]==="t"&&($e>H.bottom||d.current.bt)){var Ue=z;q?Ue-=he-I:Ue=re.y-Xe.y-ue;var Dt=ne(R,Ue),pt=ne(R,Ue,P);Dt>le||Dt===le&&(!Ie||pt>=Oe)?(d.current.bt=!0,z=Ue,ue=-ue,te.points=[He(O,0),He(Ce,0)]):d.current.bt=!1}if(zt&&O[0]==="b"&&(Le<H.top||d.current.tb)){var Ke=z;q?Ke+=he-I:Ke=lt.y-Rt.y-ue;var Tt=ne(R,Ke),Yt=ne(R,Ke,P);Tt>le||Tt===le&&(!Ie||Yt>=Oe)?(d.current.tb=!0,z=Ke,ue=-ue,te.points=[He(O,0),He(Ce,0)]):d.current.tb=!1}var xt=Et(Qt),Lt=O[1]===Ce[1];if(xt&&O[1]==="l"&&(_e>H.right||d.current.rl)){var Je=R;Lt?Je-=Y-we:Je=re.x-Xe.x-ee;var Ze=ne(Je,z),vt=ne(Je,z,P);Ze>le||Ze===le&&(!Ie||vt>=Oe)?(d.current.rl=!0,R=Je,ee=-ee,te.points=[He(O,1),He(Ce,1)]):d.current.rl=!1}if(xt&&O[1]==="r"&&(Ge<H.left||d.current.lr)){var Qe=R;Lt?Qe+=Y-we:Qe=lt.x-Rt.x-ee;var ft=ne(Qe,z),tt=ne(Qe,z,P);ft>le||ft===le&&(!Ie||tt>=Oe)?(d.current.lr=!0,R=Qe,ee=-ee,te.points=[He(O,1),He(Ce,1)]):d.current.lr=!1}rt();var ce=et===!0?0:et;typeof ce=="number"&&(Ge<P.left&&(R-=Ge-P.left-ee,y.x+we<P.left+ce&&(R+=y.x-P.left+we-ce)),_e>P.right&&(R-=_e-P.right-ee,y.x>P.right-ce&&(R+=y.x-P.right+ce)));var Ne=ct===!0?0:ct;typeof Ne=="number"&&(Le<P.top&&(z-=Le-P.top-ue,y.y+I<P.top+Ne&&(z+=y.y-P.top+I-Ne)),$e>P.bottom&&(z-=$e-P.bottom-ue,y.y>P.bottom-Ne&&(z+=y.y-P.bottom+Ne)));var We=w.x+R,Ae=We+Y,dt=w.y+z,Xt=dt+he,$t=y.x,Nt=$t+we,Wt=y.y,er=Wt+I,tr=Math.max(We,$t),At=Math.min(Ae,Nt),rr=(tr+At)/2,nr=rr-We,Ht=Math.max(dt,Wt),ar=Math.min(Xt,er),ir=(Ht+ar)/2,or=ir-dt;u==null||u(r,te);var ge=wt.right-w.x-(R+w.width),ht=wt.bottom-w.y-(z+w.height);Me===1&&(R=Math.round(R),ge=Math.round(ge)),Te===1&&(z=Math.round(z),ht=Math.round(ht));var sr={ready:!0,offsetX:R/Me,offsetY:z/Te,offsetR:ge/Me,offsetB:ht/Te,arrowX:nr/Me,arrowY:or/Te,scaleX:Me,scaleY:Te,align:te};_(sr)}}),g=function(){m.current+=1;var C=m.current;Promise.resolve().then(function(){m.current===C&&E()})},b=function(){_(function(C){return W(W({},C),{},{ready:!1})})};return be(b,[n]),be(function(){e||b()},[e]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,g]}function Gn(e,r,t,n,a){be(function(){if(e&&r&&t){let m=function(){n(),a()};var i=r,u=t,v=br(i),l=br(u),f=yt(u),_=new Set([f].concat(Sr(v),Sr(l)));return _.forEach(function(M){M.addEventListener("scroll",m,{passive:!0})}),f.addEventListener("resize",m,{passive:!0}),n(),function(){_.forEach(function(M){M.removeEventListener("scroll",m),f.removeEventListener("resize",m)})}}},[e,r,t])}function Un(e,r,t,n,a,i,u,v){var l=o.useRef(e);l.current=e;var f=o.useRef(!1);o.useEffect(function(){if(r&&n&&(!a||i)){var m=function(){f.current=!1},M=function(g){var b;l.current&&!u(((b=g.composedPath)===null||b===void 0||(b=b.call(g))===null||b===void 0?void 0:b[0])||g.target)&&!f.current&&v(!1)},d=yt(n);d.addEventListener("pointerdown",m,!0),d.addEventListener("mousedown",M,!0),d.addEventListener("contextmenu",M,!0);var S=hr(t);return S&&(S.addEventListener("mousedown",M,!0),S.addEventListener("contextmenu",M,!0)),function(){d.removeEventListener("pointerdown",m,!0),d.removeEventListener("mousedown",M,!0),d.removeEventListener("contextmenu",M,!0),S&&(S.removeEventListener("mousedown",M,!0),S.removeEventListener("contextmenu",M,!0))}}},[r,t,n,a,i]);function _(){f.current=!0}return _}var Kn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Jn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Br,r=o.forwardRef(function(t,n){var a=t.prefixCls,i=a===void 0?"rc-trigger-popup":a,u=t.children,v=t.action,l=v===void 0?"hover":v,f=t.showAction,_=t.hideAction,m=t.popupVisible,M=t.defaultPopupVisible,d=t.onPopupVisibleChange,S=t.afterPopupVisibleChange,E=t.mouseEnterDelay,g=t.mouseLeaveDelay,b=g===void 0?.1:g,T=t.focusDelay,C=t.blurDelay,$=t.mask,A=t.maskClosable,h=A===void 0?!0:A,G=t.getPopupContainer,V=t.forceRender,ve=t.autoDestroy,ae=t.destroyPopupOnHide,fe=t.popup,ie=t.popupClassName,oe=t.popupStyle,U=t.popupPlacement,ye=t.builtinPlacements,N=ye===void 0?{}:ye,B=t.popupAlign,y=t.zIndex,se=t.stretch,K=t.getPopupClassNameFromAlign,j=t.fresh,w=t.alignPoint,Re=t.onPopupClick,ot=t.onPopupAlign,ke=t.arrow,p=t.popupMotion,st=t.maskMotion,de=t.popupTransitionName,J=t.popupAnimation,Fe=t.maskTransitionName,Ve=t.maskAnimation,Ee=t.className,he=t.getTriggerDOMNode,Y=tn(t,Kn),I=ve||ae||!1,we=o.useState(!1),ze=L(we,2),De=ze[0],Z=ze[1];be(function(){Z(Wn())},[]);var je=o.useRef({}),X=o.useContext(Er),Ie=o.useMemo(function(){return{registerSubPopup:function(c,k){je.current[c]=k,X==null||X.registerSubPopup(c,k)}}},[X]),Gt=Nn(),P=o.useState(null),ut=L(P,2),H=ut[0],wt=ut[1],Me=o.useRef(null),Te=Pe(function(s){Me.current=s,dr(s)&&H!==s&&wt(s),X==null||X.registerSubPopup(Gt,s)}),Ut=o.useState(null),Mt=L(Ut,2),me=Mt[0],Ct=Mt[1],ee=o.useRef(null),ue=Pe(function(s){dr(s)&&me!==s&&(Ct(s),ee.current=s)}),Ye=o.Children.only(u),Q=(Ye==null?void 0:Ye.props)||{},xe={},Kt=Pe(function(s){var c,k,x=me;return(x==null?void 0:x.contains(s))||((c=hr(x))===null||c===void 0?void 0:c.host)===s||s===x||(H==null?void 0:H.contains(s))||((k=hr(H))===null||k===void 0?void 0:k.host)===s||s===H||Object.values(je.current).some(function(D){return(D==null?void 0:D.contains(s))||s===D})}),Jt=Dr(i,p,J,de),_t=Dr(i,st,Ve,Fe),Zt=o.useState(M||!1),St=L(Zt,2),Ce=St[0],O=St[1],F=m??Ce,Pt=Pe(function(s){m===void 0&&O(s)});be(function(){O(m||!1)},[m]);var te=o.useRef(F);te.current=F;var R=o.useRef([]);R.current=[];var z=Pe(function(s){var c;Pt(s),((c=R.current[R.current.length-1])!==null&&c!==void 0?c:F)!==s&&(R.current.push(s),d==null||d(s))}),le=o.useRef(),Oe=function(){clearTimeout(le.current)},re=function(c){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Oe(),k===0?z(c):le.current=setTimeout(function(){z(c)},k*1e3)};o.useEffect(function(){return Oe},[]);var Rt=o.useState(!1),lt=L(Rt,2),Xe=lt[0],qe=lt[1];be(function(s){(!s||F)&&qe(!0)},[F]);var Qt=o.useState(null),kt=L(Qt,2),et=kt[0],ct=kt[1],Et=o.useState(null),Le=L(Et,2),$e=Le[0],Ge=Le[1],_e=function(c){Ge([c.clientX,c.clientY])},zt=qn(F,H,w&&$e!==null?$e:me,U,N,B,ot),q=L(zt,11),Ue=q[0],Dt=q[1],pt=q[2],Ke=q[3],Tt=q[4],Yt=q[5],xt=q[6],Lt=q[7],Je=q[8],Ze=q[9],vt=q[10],Qe=jn(De,l,f,_),ft=L(Qe,2),tt=ft[0],ce=ft[1],Ne=tt.has("click"),We=ce.has("click")||ce.has("contextMenu"),Ae=Pe(function(){Xe||vt()}),dt=function(){te.current&&w&&We&&re(!1)};Gn(F,me,H,Ae,dt),be(function(){Ae()},[$e,U]),be(function(){F&&!(N!=null&&N[U])&&Ae()},[JSON.stringify(B)]);var Xt=o.useMemo(function(){var s=On(N,i,Ze,w);return at(s,K==null?void 0:K(Ze))},[Ze,K,N,i,w]);o.useImperativeHandle(n,function(){return{nativeElement:ee.current,popupElement:Me.current,forceAlign:Ae}});var $t=o.useState(0),Nt=L($t,2),Wt=Nt[0],er=Nt[1],tr=o.useState(0),At=L(tr,2),rr=At[0],nr=At[1],Ht=function(){if(se&&me){var c=me.getBoundingClientRect();er(c.width),nr(c.height)}},ar=function(){Ht(),Ae()},ir=function(c){qe(!1),vt(),S==null||S(c)},or=function(){return new Promise(function(c){Ht(),ct(function(){return c})})};be(function(){et&&(vt(),et(),ct(null))},[et]);function ge(s,c,k,x){xe[s]=function(D){var Vt;x==null||x(D),re(c,k);for(var cr=arguments.length,Mr=new Array(cr>1?cr-1:0),jt=1;jt<cr;jt++)Mr[jt-1]=arguments[jt];(Vt=Q[s])===null||Vt===void 0||Vt.call.apply(Vt,[Q,D].concat(Mr))}}(Ne||We)&&(xe.onClick=function(s){var c;te.current&&We?re(!1):!te.current&&Ne&&(_e(s),re(!0));for(var k=arguments.length,x=new Array(k>1?k-1:0),D=1;D<k;D++)x[D-1]=arguments[D];(c=Q.onClick)===null||c===void 0||c.call.apply(c,[Q,s].concat(x))});var ht=Un(F,We,me,H,$,h,Kt,re),sr=tt.has("hover"),ne=ce.has("hover"),rt,mt;sr&&(ge("onMouseEnter",!0,E,function(s){_e(s)}),ge("onPointerEnter",!0,E,function(s){_e(s)}),rt=function(c){(F||Xe)&&H!==null&&H!==void 0&&H.contains(c.target)&&re(!0,E)},w&&(xe.onMouseMove=function(s){var c;(c=Q.onMouseMove)===null||c===void 0||c.call(Q,s)})),ne&&(ge("onMouseLeave",!1,b),ge("onPointerLeave",!1,b),mt=function(){re(!1,b)}),tt.has("focus")&&ge("onFocus",!0,T),ce.has("focus")&&ge("onBlur",!1,C),tt.has("contextMenu")&&(xe.onContextMenu=function(s){var c;te.current&&ce.has("contextMenu")?re(!1):(_e(s),re(!0)),s.preventDefault();for(var k=arguments.length,x=new Array(k>1?k-1:0),D=1;D<k;D++)x[D-1]=arguments[D];(c=Q.onContextMenu)===null||c===void 0||c.call.apply(c,[Q,s].concat(x))}),Ee&&(xe.className=at(Q.className,Ee));var Se=W(W({},Q),xe),pe={},Bt=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Bt.forEach(function(s){Y[s]&&(pe[s]=function(){for(var c,k=arguments.length,x=new Array(k),D=0;D<k;D++)x[D]=arguments[D];(c=Se[s])===null||c===void 0||c.call.apply(c,[Se].concat(x)),Y[s].apply(Y,x)})});var Ft=o.cloneElement(Ye,W(W({},Se),pe)),ur={x:Yt,y:xt},lr=ke?W({},ke!==!0?ke:{}):null;return o.createElement(o.Fragment,null,o.createElement(wr,{disabled:!F,ref:ue,onResize:ar},o.createElement(Vn,{getTriggerDOMNode:he},Ft)),o.createElement(Er.Provider,{value:Ie},o.createElement(Fn,{portal:e,ref:Te,prefixCls:i,popup:fe,className:at(ie,Xt),style:oe,target:me,onMouseEnter:rt,onMouseLeave:mt,onPointerEnter:rt,zIndex:y,open:F,keepDom:Xe,fresh:j,onClick:Re,onPointerDownCapture:ht,mask:$,motion:Jt,maskMotion:_t,onVisibleChanged:ir,onPrepare:or,forceRender:V,autoDestroy:I,getPopupContainer:G,align:Ze,arrow:lr,arrowPos:ur,ready:Ue,offsetX:Dt,offsetY:pt,offsetR:Ke,offsetB:Tt,onAlign:Ae,stretch:se,targetWidth:Wt/Lt,targetHeight:rr/Je})))});return r}const ea=Jn(Br);export{wr as R,ea as T,Yn as a,Xn as b,Nn as c,Wn as i,pn as u};
