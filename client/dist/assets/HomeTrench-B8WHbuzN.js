import{a1 as A,i as E,h as T,a as u,ah as S,j as e}from"./index-w41rB-zE.js";import"./moment-C5S46NFB.js";import{h as I,E as R}from"./jspdf.es.min-Dw8kerXV.js";import{u as b,w as v}from"./xlsx-x9ZxUr7s.js";import{F as N}from"./FileSaver.min-0Mtzt-J1.js";const F=()=>{var h;const{id:t}=A(),m=E(),r=T(d=>{var s;return(s=d==null?void 0:d.homeTrenchReport)==null?void 0:s.report});u.useEffect(()=>{t&&m(S(t))},[t,m]);const p=()=>{const d=document.getElementById("reportContent");I(d,{scale:2,useCORS:!0}).then(s=>{const c=s.toDataURL("image/png"),l=new R("p","mm","a4"),f=l.internal.pageSize.getWidth(),x=l.internal.pageSize.getHeight(),o=10,i=f-o*2,a=s.height*i/s.width;let g=o,n=a;if(a>x-o*2)for(;n>0;)l.addImage(c,"PNG",o,g,i,a),n-=x-o*2,n>0&&(l.addPage(),g=o-(a-n));else l.addImage(c,"PNG",o,o,i,a);l.save("Baja_Ameriya_Report.pdf")})},j=()=>{const d=document.getElementById("reportTable"),s=b.table_to_book(d,{sheet:"Report"}),c=v(s,{bookType:"xlsx",type:"array"}),l=new Blob([c],{type:"application/octet-stream"});N.saveAs(l,"Baja_Ameriya_Report.xlsx")},y=()=>{const d=document.getElementById("reportTable"),s=b.table_to_sheet(d),c=b.sheet_to_csv(s),l=new Blob([c],{type:"text/csv;charset=utf-8;"});N.saveAs(l,"Baja_Ameriya_Report.csv")};return e.jsxs("div",{className:"w-full border p-3",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"mb-2.5 text-right",children:[e.jsx("button",{onClick:p,className:"mr-2.5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Download PDF"}),e.jsx("button",{onClick:j,className:"mr-2.5 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Download Excel"}),e.jsx("button",{onClick:y,className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded",children:"Download CSV"})]})}),e.jsxs("div",{id:"reportContent",children:[e.jsx("div",{className:"flex items-center border-b pb-3",children:e.jsx("div",{className:"w-full",children:e.jsx("img",{src:"/assets/images/header1.jpg",alt:""})})}),e.jsx("div",{id:"reportTable",children:e.jsx("table",{className:"w-full border-collapse border border-gray-300",children:e.jsxs("tbody",{children:[e.jsx("tr",{className:"bg-gray-100",children:e.jsx("td",{className:"bg-blue-100 p-2 font-bold",colSpan:4,children:"1. VENDOR VISIT DETAILS"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"DATE OF VISIT"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.dateOfVisit)||"N/A"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"DATE OF REPORT"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.dateOfReport)||"N/A"})]}),e.jsx("tr",{children:e.jsxs("td",{className:"p-2 border border-gray-300 font-bold",colSpan:4,children:["Address of Property (As per site):"," ",(r==null?void 0:r.propertyAddress)||"N/A"]})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"NAME OF THE PERSON WHO VISITED THE SITE:"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.visitedPersonName)||"N/A"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"CONTACT NUMBER"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.contactNumber)||"N/A"})]}),e.jsx("tr",{className:"bg-gray-100",children:e.jsx("td",{className:"bg-blue-100 p-2 font-bold",colSpan:4,children:"2. CONSTRUCTION"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",colSpan:2,children:"CONSTRUCTION STAGE (AS PER SITE):"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",colSpan:2,children:(r==null?void 0:r.constructionStage)||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"CONSTRUCTION (%)"}),e.jsxs("td",{className:"p-2 border border-gray-300",children:[(r==null?void 0:r.constructionPercentage)||"N/A","%"]}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"CONSTRUCTION IS AS PER :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.constructionAsPer)||"N/A"})]}),e.jsx("tr",{className:"bg-gray-100",children:e.jsx("td",{className:"bg-blue-100 p-2 font-bold",colSpan:4,children:"3. AREA"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"TOTAL BUA CONSIDERED ON SITE (IN SQ.FT)"}),e.jsxs("td",{className:"p-2 border border-gray-300",children:[(r==null?void 0:r.totalBua)||"N/A"," SQFT"]}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"REMARKS"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.areaRemarks)||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"LATITUDE :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.latitude)||"N/A"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"LONGITUDE :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.longitude)||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"OVERALL STATUS (POSITIVE / NEGATIVE) :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.overallStatus)||"N/A"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"IF NEGATIVE, PLEASE SPECIFY THE REASON :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.negativeReason)||"N/A"})]}),e.jsx("tr",{className:"bg-gray-100",children:e.jsx("td",{className:"bg-blue-100 p-2 font-bold",colSpan:4,children:"4. CERTIFICATE"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"CERTIFICATE :"}),e.jsx("td",{className:"p-2 border border-gray-300",colSpan:3,children:(r==null?void 0:r.certificateText)||"N/A"})]}),e.jsx("tr",{className:"bg-gray-100",children:e.jsx("td",{className:"bg-blue-100 p-2 font-bold",colSpan:4,children:"5. BILLING"})}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"CHARGES :"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.charges)||"N/A"}),e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"GST % (IF APPLICABLE)"}),e.jsx("td",{className:"p-2 border border-gray-300",children:(r==null?void 0:r.gstPercentage)||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border border-gray-300 font-bold",children:"TOTAL :"}),e.jsx("td",{className:"p-2 border border-gray-300",colSpan:3,children:r==null?void 0:r.totalAmount})]}),e.jsx("tr",{children:e.jsx("td",{className:" border border-black px-4 mt font-semibold",colSpan:"8",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 py-2  ",children:((h=r==null?void 0:r.imageUrls)==null?void 0:h.length)>0?r.imageUrls.map((d,s)=>e.jsx("div",{className:"  overflow-hidden  ",children:e.jsx("img",{src:d,alt:`Property Image ${s+1}`,className:"w-full h-96 object-cover"})},s)):e.jsx("p",{children:"No images available."})})})})]})})}),e.jsxs("div",{className:"mt-8 text-sm text-gray-600",children:[e.jsx("p",{className:"mb-1",children:"* This is a system-generated report. The data provided is based on site visit and available records."}),e.jsxs("p",{children:["For any queries, please contact us at"," ",e.jsx("a",{href:"mailto:support@example.com",className:"text-blue-500 underline",children:"support@example.com"})]})]})]})]})};export{F as default};
