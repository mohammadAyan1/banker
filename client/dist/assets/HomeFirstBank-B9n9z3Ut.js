import{a as I,ab as me,ac as he,h as $,a1 as ce,j as e,S as fe,V as R,i as xe,k as ve,ad as ye,ae as Y,af as je,aa as ge}from"./index-Cwaqwj_s.js";import"./dayjs.min-C8iS-mZo.js";import{G as be}from"./GeoLocationInput-7V-fa_jL.js";import{I as Ne}from"./ImageUploader-BVnbHuqI.js";import{h as B}from"./moment-C5S46NFB.js";import{F as t,R as _,C as k}from"./index-DmJzFToF.js";import{I as p}from"./index-Co5CSDrC.js";import{D as Ie}from"./index-C4Qn9Q8l.js";import{S as m}from"./index-BAYHenB6.js";import{B as P}from"./button-CRiyqN-T.js";import{D as V}from"./index-vbK2Ec8P.js";import{F as Ae}from"./Table-CLq92ETG.js";import{R as Ce}from"./PlusOutlined-DfbQOCuQ.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./FileSaver.min-DVxi4_QD.js";import"./index-BtVXgsBD.js";import"./index-D6eF6qyz.js";import"./isVisible-DhUEo0yb.js";import"./index-3NS6t-ya.js";import"./fade-ZXlAHFga.js";import"./compact-item-9bHwfI2_.js";import"./useForceUpdate-uYG1hq1o.js";import"./EyeOutlined-CexqOR59.js";import"./roundedArrow-BrpLF90m.js";import"./CloseCircleFilled-079ZkidS.js";import"./index-IOLSlQ-g.js";import"./index-C8XweYY5.js";import"./InfoCircleFilled-ChY3wmgV.js";import"./index-CUiJDIVs.js";import"./PurePanel-CY_QmN-T.js";import"./useBreakpoint-Co8dBcnG.js";import"./TextArea-BkFj_DI7.js";import"./useVariants-Dzz7aYiE.js";import"./styleChecker-2XBKVxNa.js";import"./addEventListener-Dl-2Ckbu.js";import"./index-BQnvoT-3.js";import"./LeftOutlined-B-JC9k9Z.js";import"./EllipsisOutlined-DayKtJs5.js";import"./index-DkHp6hjz.js";import"./Pagination-DR-FJqzx.js";var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},De=function(c,d){return I.createElement(me,he({},c,{ref:d,icon:Se}))},Oe=I.forwardRef(De);const{TextArea:Pe}=p,{Option:U}=m,Fe=({isEdit:i,onNext:c,extractedData:d})=>{const{user:o}=$(x=>x.auth),[l]=t.useForm(),[u,n]=I.useState([]),[s,a]=I.useState([]),{id:y}=ce(),[b,v]=I.useState([]),[g,f]=I.useState(!1),N={customerName:"",customerNo:"",propertyName:"",personMetDuringVisit:"N/A",personContactNo:"N/A",typeOfLoan:"N/A",dateOfReport:null,refNo:"N/A",evaluationType:"N/A",unitType:"N/A",documentsAvailable:"N/A"};I.useEffect(()=>{const x={...d,...i};if(console.log(x),a(x==null?void 0:x.imageUrls),x){const D=x.dateOfReport?B(x.dateOfReport,B.ISO_8601,!0).isValid()?B(x.dateOfReport):B(x.dateOfReport,"DD.MM.YYYY"):null;l.setFieldsValue({customerName:x.customerName||"",customerNo:x.customerNo||"",propertyName:x.propertyName||"",personMetDuringVisit:x.personMetDuringVisit||"",personContactNo:x.personContactNo||"",typeOfLoan:x.typeOfLoan||"",dateOfReport:D,refNo:x.refNo||"",evaluationType:x.evaluationType||"",unitType:x.unitType||"",documentsAvailable:x.documentsAvailable||"",latitude:x.latitude||"",longitude:x.longitude||""})}},[i,d,l]);const h=I.useRef();I.useEffect(()=>{if(o.role==="FieldOfficer"){const x=setTimeout(()=>{var D;(D=h.current)==null||D.getLocation()},100);return()=>clearTimeout(x)}},[o.role]);const j=async x=>{if(o.role==="FieldOfficer"&&b.length===0){R.error("Please upload images before submitting");return}f(!0);try{const D={...x,imageUrls:b};c(D)}catch(D){console.log(D)}finally{f(!1)}};return g?e.jsx(fe,{}):e.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"L & T ASSIGNMENT DETAILS "}),e.jsxs(t,{layout:"vertical",form:l,initialValues:N,onFinish:j,className:"grid grid-cols-2 gap-4",children:[e.jsx(t.Item,{name:"customerName",label:"Customer Name",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"customerNo",label:"Customer No.",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"propertyName",label:"Property Name",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"personMetDuringVisit",label:"Person Met During Visit",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"personContactNo",label:"Person Contact No.",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"typeOfLoan",label:"Type of Loan",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"dateOfReport",label:"Date of Report",children:e.jsx(Ie,{className:"w-full",format:"DD.MM.YYYY"})}),e.jsx(t.Item,{name:"refNo",label:"Reference No.",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"evaluationType",label:"Evaluation Type",children:e.jsxs(m,{allowClear:!0,className:"w-full",children:[e.jsx(U,{value:"One Off",children:"One Off"}),e.jsx(U,{value:"Regular",children:"Regular"})]})}),e.jsx(t.Item,{name:"unitType",label:"Unit Type",children:e.jsxs(m,{allowClear:!0,className:"w-full",children:[e.jsx(U,{value:"Individual House",children:"Individual House"}),e.jsx(U,{value:"Flat",children:"Flat"})]})}),e.jsx(t.Item,{className:"col-span-2",name:"documentsAvailable",label:"Documents Available for perusal",children:e.jsx(Pe,{rows:2})}),e.jsx("div",{className:"col-span-2",children:o.role==="FieldOfficer"?e.jsx(be,{ref:h}):e.jsxs(e.Fragment,{children:[e.jsx(t.Item,{name:"latitude",label:"Latitude",children:e.jsx(p,{placeholder:"Latitude"})}),e.jsx(t.Item,{name:"longitude",label:"Longitude",children:e.jsx(p,{placeholder:"Longitude"})})]})}),e.jsx("div",{className:"col-span-2 !flex",children:e.jsx(Ne,{deleteId:y,images:u,setImages:n,setUploadedUrls:v,uploadedImages:s})}),e.jsx(t.Item,{className:"col-span-2 text-end",children:e.jsx(P,{type:"primary",htmlType:"submit",className:"mt-4",children:o.role==="FieldOfficer"?"Submit":"Next"})})]})]})},{TextArea:G}=p,{Option:S}=m,Re=[{key:"1",type:"NA Converted",approvingAuthority:["Yes","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"2",type:"Approved Sanction Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"ENGG MAP",file:null},{key:"3",type:"Approved Layout Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"KEY PLAN",file:null},{key:"4",type:"Commencement Certificate (if any)",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"5",type:"Occupancy/Completion Certificate",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null},{key:"6",type:"Approved Sub Plotting Plan",approvingAuthority:["Municipal/Town Planning (TP)","Gram panchayat (GP)","Collector (Zilla parishad) (ZP)","Architect Plan","No"],approvalDate:"",approvalDetails:"NA",file:null}],ke=({isEdit:i,onNext:c,onBack:d,extractedData:o})=>{const[l]=t.useForm(),[u,n]=I.useState([]),[s,a]=I.useState(!1),[y,b]=I.useState(Re),v={addressLegal:"",addressSite:"",city:"",nearbyLandmark:"",projectPinCode:"",zone:"RESIDENTIAL",projectState:"Madhya Pradesh",nameOnSocietyBoard:"N/A",nameOnDoor:"N/A",latitude:"N/A",longitude:"N/A",populationCensus2011:"N/A",ruralUrban:"Rural",statusOfOccupancy:"N/A",occupiedBy:"N/A",usageOfProperty:"N/A",eraApplicable:"No",ownershipType:"Freehold",numberAndDate:"N/A",approvedSubPlottingPlan:""};I.useEffect(()=>{const h={...o,...i};h&&l.setFieldsValue({addressLegal:h.addressLegal||"",addressSite:h.addressSite||"",city:h.city||"",nearbyLandmark:h.nearbyLandmark||"",projectPinCode:h.projectPinCode||"",zone:h.zone||"RESIDENTIAL",projectState:h.projectState||"Madhya Pradesh",nameOnSocietyBoard:h.nameOnSocietyBoard||"",nameOnDoor:h.nameOnDoor||"",populationCensus2011:h.populationCensus2011||"",ruralUrban:h.ruralUrban||"Rural",statusOfOccupancy:h.statusOfOccupancy||"",occupiedBy:h.occupiedBy||"",usageOfProperty:h.usageOfProperty||"",eraApplicable:h.eraApplicable||"No",ownershipType:h.ownershipType||"Freehold",numberAndDate:h.numberAndDate||""})},[i,o,l]),I.useEffect(()=>{i!=null&&i.images&&n(i.images)},[i]),I.useEffect(()=>{const h=()=>{a(window.innerWidth<768)};return window.addEventListener("resize",h),h(),()=>window.removeEventListener("resize",h)},[]);const g=(h,j,x)=>{b(D=>D.map(F=>F.key===h?{...F,[j]:x}:F))},f=h=>{const j={...h,images:u,documents:y.map(x=>({...x,approvingAuthority:x.selectedApprovingAuthority||"",approvingAuthorityOptions:x.approvingAuthority}))};c(j)},N=[{title:"TYPE",dataIndex:"type",key:"type",render:(h,j)=>e.jsx("span",{children:j.type})},{title:"Approving Authority",dataIndex:"approvingAuthority",key:"approvingAuthority",render:(h,j)=>e.jsx(m,{value:j.selectedApprovingAuthority||"",style:{width:200},onChange:x=>g(j.key,"selectedApprovingAuthority",x),placeholder:"Select",children:j.approvingAuthority.map(x=>e.jsx(S,{value:x,children:x},x))})},{title:"Date of approval and Number",dataIndex:"approvalDate",key:"approvalDate",render:(h,j)=>e.jsx(p,{placeholder:"Number & Date",defaultValue:j.approvalDate,onChange:x=>g(j.key,"approvalDate",x.target.value)})},{title:"Details of Approval",dataIndex:"approvalDetails",key:"approvalDetails",render:(h,j)=>e.jsx(p,{placeholder:"Details",defaultValue:j.approvalDetails,onChange:x=>g(j.key,"approvalDetails",x.target.value)})}];return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"General Details"}),e.jsxs(t,{layout:"vertical",form:l,initialValues:v,onFinish:f,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx(t.Item,{name:"addressLegal",label:"Address as per Legal Document",children:e.jsx(G,{autoSize:{minRows:2,maxRows:6}})}),e.jsx(t.Item,{name:"addressSite",label:"Address As per Site",children:e.jsx(G,{autoSize:{minRows:2,maxRows:6}})}),e.jsx(t.Item,{name:"city",label:"city",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"nearbyLandmark",label:"Nearby Landmark",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"projectPinCode",label:"Project Pin Code",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"zone",label:"Zone",children:e.jsxs(m,{children:[e.jsx(S,{value:"RESIDENTIAL",children:"Residential"}),e.jsx(S,{value:"COMMERCIAL",children:"Commercial"}),e.jsx(S,{value:"INDUSTRIAL",children:"Industrial"}),e.jsx(S,{value:"AGRICULTURAL",children:"Agricultural"}),e.jsx(S,{value:"MIXED",children:"Mixed"})]})}),e.jsx(t.Item,{name:"projectState",label:"Project State",children:e.jsxs(m,{children:[e.jsx(S,{value:"Madhya Pradesh",children:"Madhya Pradesh"}),e.jsx(S,{value:"Maharashtra",children:"Maharashtra"}),e.jsx(S,{value:"Uttar Pradesh",children:"Uttar Pradesh"}),e.jsx(S,{value:"Gujarat",children:"Gujarat"}),e.jsx(S,{value:"Rajasthan",children:"Rajasthan"}),e.jsx(S,{value:"Delhi",children:"Delhi"})]})}),e.jsxs(t.Item,{name:"usageOfProperty",label:"Usage of the Property",children:[e.jsx(p,{}),"cd         "]}),e.jsx(t.Item,{name:"nameOnSocietyBoard",label:"Name on Society Board",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"nameOnDoor",label:"Name on Door of the Premises",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"populationCensus2011",label:"Population Census 2011",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"ruralUrban",label:"Rural/Urban",children:e.jsxs(m,{children:[e.jsx(S,{value:"Rural",children:"Rural"}),e.jsx(S,{value:"Urban",children:"Urban"})]})}),e.jsx(t.Item,{name:"statusOfOccupancy",label:"Status of Occupancy",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"occupiedBy",label:"Occupied By",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"usageOfProperty",label:"Usage of Property",children:e.jsx(p,{})}),e.jsx(t.Item,{name:"eraApplicable",label:"RERA (if applicable)",children:e.jsxs(m,{children:[e.jsx(S,{value:"Yes",children:"Yes"}),e.jsx(S,{value:"No",children:"No"})]})}),e.jsx(t.Item,{name:"ownershipType",label:"Ownership Type",children:e.jsxs(m,{children:[e.jsx(S,{value:"Freehold",children:"Freehold"}),e.jsx(S,{value:"leasehold",children:"Leasehold"})]})}),e.jsx(t.Item,{name:"numberAndDate",label:"Number & Date",children:e.jsx(G,{rows:3})}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(V,{orientation:"left",children:"DOCUMENT DETAILS"}),s?y.map(h=>e.jsxs("div",{className:"border p-3 rounded bg-gray-50 mb-4",children:[e.jsxs("p",{className:"font-semibold",children:["TYPE: ",h.type]}),e.jsx(t.Item,{label:"Approving Authority",children:e.jsx(m,{value:h.selectedApprovingAuthority||"",onChange:j=>g(h.key,"selectedApprovingAuthority",j),children:h.approvingAuthority.map(j=>e.jsx(S,{value:j,children:j},j))})}),e.jsx(t.Item,{label:"Date & Number",children:e.jsx(p,{value:h.approvalDate,onChange:j=>g(h.key,"approvalDate",j.target.value)})}),e.jsx(t.Item,{label:"Details",children:e.jsx(p,{value:h.approvalDetails,onChange:j=>g(h.key,"approvalDetails",j.target.value)})})]},h.key)):e.jsx(Ae,{columns:N,dataSource:y,pagination:!1,bordered:!0,rowKey:"key"})]}),e.jsxs(t.Item,{className:"lg:col-span-2 text-end",children:[d&&e.jsx(P,{onClick:d,className:"mr-2",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})},{Option:O}=m,we=({isEdit:i,onNext:c,onBack:d,extractedData:o})=>{const[l]=t.useForm(),u={directions:{North:{document:"",actual:"",plan:""},South:{document:"",actual:"",plan:""},East:{document:"",actual:"",plan:""},West:{document:"",actual:"",plan:""}},boundariesMatching:"",plotArea:"",isPropertyWithinLimit:"",marketability:"",typeOfStructure:"N/A",qualityOfConstruction:"",IfNoDetailRemak:"",propertyIsDemarcated:"",propertyEasilyIdentifiable:"",Dimension:"",ifQualityPoor:"",unitFlatConfiguration:"",noOfFloorsPermissible:"",noOfUnitFlatOnEachFloor:"",internalComposition:"",noOfFloorsActual:"",approxAgeOfProperty:"",constructionAsPerPlan:"",residualAge:"",constructionStatus:"",liftAvailable:"",buildingHeight:"",constructionStage:"",openPlot:""};I.useEffect(()=>{const a={...o,...i};a&&l.setFieldsValue({directions:{North:{document:a.northDocument||"",actual:a.northActual||"",plan:a.northPlan||""},South:{document:a.southDocument||"",actual:a.southActual||"",plan:a.southPlan||""},East:{document:a.eastDocument||"",actual:a.eastActual||"",plan:a.eastPlan||""},West:{document:a.westDocument||"",actual:a.westActual||"",plan:a.westPlan||""}},boundariesMatching:a.boundariesMatching||"",plotArea:a.plotArea||"",isPropertyWithinLimit:a.isPropertyWithinLimit||"",marketability:a.marketability||"",typeOfStructure:a.typeOfStructure||"",qualityOfConstruction:a.qualityOfConstruction||"",ifQualityPoor:a.ifQualityPoor||"",unitFlatConfiguration:a.unitFlatConfiguration||"",noOfFloorsPermissible:a.noOfFloorsPermissible||"",noOfUnitFlatOnEachFloor:a.noOfUnitFlatOnEachFloor||"",internalComposition:a.internalComposition||"",noOfFloorsActual:a.noOfFloorsActual||"",approxAgeOfProperty:a.approxAgeOfProperty||"",constructionAsPerPlan:a.constructionAsPerPlan||"",residualAge:a.residualAge||"",constructionStatus:a.constructionStatus||"",liftAvailable:a.liftAvailable||"",buildingHeight:a.buildingHeight||"",constructionStage:a.constructionStage||"",IfNoDetailRemak:a.IfNoDetailRemak||"",propertyIsDemarcated:a.propertyIsDemarcated||"",propertyEasilyIdentifiable:a.propertyEasilyIdentifiable||"",Dimension:a.Dimension||""})},[i,o,l]);const n=a=>{c(a)},s=a=>{const{name:y,value:b,type:v}=a.target,g=v==="number"?parseFloat(b)||0:b;l.setFieldsValue({[y]:g})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Property Details"}),e.jsxs(t,{layout:"vertical",form:l,initialValues:u,onFinish:n,className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[["North","South","East","West"].map(a=>e.jsxs("div",{className:"lg:col-span-2 rounded-md bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-800",children:a}),e.jsxs(_,{gutter:16,children:[e.jsx(k,{xs:24,md:8,children:e.jsx(t.Item,{label:"As per Document/ATS",name:["directions",a,"document"],children:e.jsx(p,{})})}),e.jsx(k,{xs:24,md:8,children:e.jsx(t.Item,{label:"Actual at site",name:["directions",a,"actual"],children:e.jsx(p,{})})}),e.jsx(k,{xs:24,md:8,children:e.jsx(t.Item,{label:"As per plan",name:["directions",a,"plan"],children:e.jsx(p,{})})})]})]},a)),e.jsx(t.Item,{label:"Boundaries Matching",name:"boundariesMatching",children:e.jsxs(m,{onChange:s,children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"}),e.jsx(O,{value:"NA",children:"NA"})]})}),e.jsx(t.Item,{label:"Plot Area (Sq. ft)",name:"plotArea",children:e.jsx(p,{type:"number",onChange:s})}),e.jsx(t.Item,{label:"Is the property within which limit",name:"isPropertyWithinLimit",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Marketability",name:"marketability",children:e.jsxs(m,{onChange:s,children:[e.jsx(O,{value:"Yes",children:"Good"}),e.jsx(O,{value:"No",children:"Average"}),e.jsx(O,{value:"NA",children:"Poor"})]})}),e.jsx(t.Item,{label:"If No - Detail Remak",name:"IfNoDetailRemak",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Property is Demarcated",name:"propertyIsDemarcated",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Property Easily Identifiable",name:"propertyEasilyIdentifiable",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Dimension:",name:"Dimension",children:e.jsx(p,{onChange:s})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Structural Details"})," ",e.jsx("br",{}),e.jsx(t.Item,{label:"Type of Structure",name:"typeOfStructure",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Quality of Construction",name:"qualityOfConstruction",children:e.jsxs(m,{onChange:s,children:[e.jsx(O,{value:"Good",children:"Good"}),e.jsx(O,{value:"Average",children:"Average"}),e.jsx(O,{value:"Poor",children:"Poor"}),e.jsx(O,{value:"NA",children:"NA"})]})}),e.jsx(t.Item,{label:"If quality of construction is poor",name:"ifQualityPoor",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Unit / Flat Configuration",name:"unitFlatConfiguration",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"No. of Floors Permissible",name:"noOfFloorsPermissible",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"No. of Unit / Flat on Each Floor",name:"noOfUnitFlatOnEachFloor",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Internal composition of the property",name:"internalComposition",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"No. of Floors Actual",name:"noOfFloorsActual",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Approx. Age of Property (Years)",name:"approxAgeOfProperty",children:e.jsx(p,{type:"number",onChange:s})}),e.jsx(t.Item,{label:"Whether construction is as per plan /permission/ building",name:"constructionAsPerPlan",children:e.jsxs(m,{onChange:s,children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"}),e.jsx(O,{value:"NA",children:"NA"})]})}),e.jsx(t.Item,{label:"Residual Age (Years)",name:"residualAge",children:e.jsx(p,{type:"number",onChange:s})}),e.jsx(t.Item,{label:"Currnet Construction Status",name:"constructionStatus",children:e.jsx(p,{onChange:s})}),e.jsx(t.Item,{label:"Whether Lift Available",name:"liftAvailable",children:e.jsxs(m,{onChange:s,children:[e.jsx(O,{value:"Yes",children:"Yes"}),e.jsx(O,{value:"No",children:"No"}),e.jsx(O,{value:"NA",children:"NA"})]})}),e.jsx(t.Item,{label:"Height of the building (Approx in Meters)",name:"buildingHeight",children:e.jsx(p,{type:"number",onChange:s})}),e.jsx(t.Item,{label:"Construction Stage",name:"constructionStage",children:e.jsx(p,{onChange:s})}),e.jsxs(t.Item,{className:"lg:col-span-2 text-end",children:[d&&e.jsx(P,{type:"default",onClick:d,className:"mr-2 px-4 py-2 bg-gray-500 text-white rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})};var H={exports:{}},Z,X;function Te(){if(X)return Z;X=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z=i,Z}var W,ee;function Ee(){if(ee)return W;ee=1;var i=Te();function c(){}function d(){}return d.resetWarningCache=c,W=function(){function o(n,s,a,y,b,v){if(v!==i){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:d,resetWarningCache:c};return u.PropTypes=u,u},W}var ne;function Ve(){return ne||(ne=1,H.exports=Ee()()),H.exports}var r=Ve(),Q=function(){return Q=Object.assign||function(i){for(var c,d=1,o=arguments.length;d<o;d++){c=arguments[d];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(i[l]=c[l])}return i},Q.apply(this,arguments)},de={onActivate:r.func,onAddUndo:r.func,onBeforeAddUndo:r.func,onBeforeExecCommand:r.func,onBeforeGetContent:r.func,onBeforeRenderUI:r.func,onBeforeSetContent:r.func,onBeforePaste:r.func,onBlur:r.func,onChange:r.func,onClearUndos:r.func,onClick:r.func,onContextMenu:r.func,onCommentChange:r.func,onCompositionEnd:r.func,onCompositionStart:r.func,onCompositionUpdate:r.func,onCopy:r.func,onCut:r.func,onDblclick:r.func,onDeactivate:r.func,onDirty:r.func,onDrag:r.func,onDragDrop:r.func,onDragEnd:r.func,onDragGesture:r.func,onDragOver:r.func,onDrop:r.func,onExecCommand:r.func,onFocus:r.func,onFocusIn:r.func,onFocusOut:r.func,onGetContent:r.func,onHide:r.func,onInit:r.func,onInput:r.func,onKeyDown:r.func,onKeyPress:r.func,onKeyUp:r.func,onLoadContent:r.func,onMouseDown:r.func,onMouseEnter:r.func,onMouseLeave:r.func,onMouseMove:r.func,onMouseOut:r.func,onMouseOver:r.func,onMouseUp:r.func,onNodeChange:r.func,onObjectResizeStart:r.func,onObjectResized:r.func,onObjectSelected:r.func,onPaste:r.func,onPostProcess:r.func,onPostRender:r.func,onPreProcess:r.func,onProgressState:r.func,onRedo:r.func,onRemove:r.func,onReset:r.func,onSaveContent:r.func,onSelectionChange:r.func,onSetAttrib:r.func,onSetContent:r.func,onShow:r.func,onSubmit:r.func,onUndo:r.func,onVisualAid:r.func,onSkinLoadError:r.func,onThemeLoadError:r.func,onModelLoadError:r.func,onPluginLoadError:r.func,onIconsLoadError:r.func,onLanguageLoadError:r.func,onScriptsLoad:r.func,onScriptsLoadError:r.func},Le=Q({apiKey:r.string,licenseKey:r.string,id:r.string,inline:r.bool,init:r.object,initialValue:r.string,onEditorChange:r.func,value:r.string,tagName:r.string,tabIndex:r.number,cloudChannel:r.string,plugins:r.oneOfType([r.string,r.array]),toolbar:r.oneOfType([r.string,r.array]),disabled:r.bool,readonly:r.bool,textareaName:r.string,tinymceScriptSrc:r.oneOfType([r.string,r.arrayOf(r.string),r.arrayOf(r.shape({src:r.string,async:r.bool,defer:r.bool}))]),rollback:r.oneOfType([r.number,r.oneOf([!1])]),scriptLoading:r.shape({async:r.bool,defer:r.bool,delay:r.number})},de),ue=function(i){var c=i;return c&&c.tinymce?c.tinymce:null},q=function(i){return typeof i=="function"},te=function(i){return i in de},ae=function(i){return i.substr(2)},Me=function(i,c,d,o,l,u,n){var s=Object.keys(l).filter(te),a=Object.keys(u).filter(te),y=s.filter(function(v){return u[v]===void 0}),b=a.filter(function(v){return l[v]===void 0});y.forEach(function(v){var g=ae(v),f=n[g];d(g,f),delete n[g]}),b.forEach(function(v){var g=o(i,v),f=ae(v);n[f]=g,c(f,g)})},_e=function(i,c,d,o,l){return Me(l,i.on.bind(i),i.off.bind(i),function(u,n){return function(s){var a;return(a=u(n))===null||a===void 0?void 0:a(s,i)}},c,d,o)},ie=0,pe=function(i){var c=Date.now(),d=Math.floor(Math.random()*1e9);return ie++,i+"_"+d+ie+String(c)},re=function(i){return i!==null&&(i.tagName.toLowerCase()==="textarea"||i.tagName.toLowerCase()==="input")},oe=function(i){return typeof i>"u"||i===""?[]:Array.isArray(i)?i:i.split(" ")},Be=function(i,c){return oe(i).concat(oe(c))},Ue=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Ye=function(i){if(!("isConnected"in Node.prototype)){for(var c=i,d=i.parentNode;d!=null;)c=d,d=c.parentNode;return c===i.ownerDocument}return i.isConnected},le=function(i,c){i!==void 0&&(i.mode!=null&&typeof i.mode=="object"&&typeof i.mode.set=="function"?i.mode.set(c):i.setMode(c))},Ge=function(i){var c=ue(i);if(!c)throw new Error("tinymce should have been loaded into global scope");return c},se=function(i){return i.options&&i.options.isRegistered("disabled")},J=function(){return J=Object.assign||function(i){for(var c,d=1,o=arguments.length;d<o;d++){c=arguments[d];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(i[l]=c[l])}return i},J.apply(this,arguments)},He=function(i,c,d){var o,l,u=i.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=c.id,u.src=c.src,u.async=(o=c.async)!==null&&o!==void 0?o:!1,u.defer=(l=c.defer)!==null&&l!==void 0?l:!1;var n=function(){u.removeEventListener("load",n),u.removeEventListener("error",s),d(c.src)},s=function(a){u.removeEventListener("load",n),u.removeEventListener("error",s),d(c.src,a)};u.addEventListener("load",n),u.addEventListener("error",s),i.head&&i.head.appendChild(u)},Ze=function(i){var c={},d=function(n,s){var a=c[n];a.done=!0,a.error=s;for(var y=0,b=a.handlers;y<b.length;y++){var v=b[y];v(n,s)}a.handlers=[]},o=function(n,s,a){var y=function(D){return a!==void 0?a(D):console.error(D)};if(n.length===0){y(new Error("At least one script must be provided"));return}for(var b=0,v=!1,g=function(D,F){v||(F?(v=!0,y(F)):++b===n.length&&s())},f=0,N=n;f<N.length;f++){var h=N[f],j=c[h.src];if(j)j.done?g(h.src,j.error):j.handlers.push(g);else{var x=pe("tiny-");c[h.src]={id:x,src:h.src,done:!1,error:null,handlers:[g]},He(i,J({id:x},h),d)}}},l=function(){for(var n,s=0,a=Object.values(c);s<a.length;s++){var y=a[s],b=i.getElementById(y.id);b!=null&&b.tagName==="SCRIPT"&&((n=b.parentNode)===null||n===void 0||n.removeChild(b))}c={}},u=function(){return i};return{loadScripts:o,deleteScripts:l,getDocument:u}},We=function(){var i=[],c=function(l){var u=i.find(function(n){return n.getDocument()===l});return u===void 0&&(u=Ze(l),i.push(u)),u},d=function(l,u,n,s,a){var y=function(){return c(l).loadScripts(u,s,a)};n>0?setTimeout(y,n):y()},o=function(){for(var l=i.pop();l!=null;l=i.pop())l.deleteScripts()};return{loadList:d,reinitialize:o}},qe=We(),Ke=function(){var i=function(c,d){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(o[u]=l[u])},i(c,d)};return function(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");i(c,d);function o(){this.constructor=c}c.prototype=d===null?Object.create(d):(o.prototype=d.prototype,new o)}}(),E=function(){return E=Object.assign||function(i){for(var c,d=1,o=arguments.length;d<o;d++){c=arguments[d];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(i[l]=c[l])}return i},E.apply(this,arguments)},K="change keyup compositionend setcontent CommentChange";(function(i){Ke(c,i);function c(d){var o,l,u,n=i.call(this,d)||this;return n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var s=n.editor,a=n.props.value;s&&a&&a!==n.currentContent&&s.undoManager.ignore(function(){if(s.setContent(a),n.valueCursor&&(!n.inline||s.hasFocus()))try{s.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(s){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(s){(s.key==="Enter"||s.key==="Backspace"||s.key==="Delete")&&n.handleBeforeInput(s)},n.handleEditorChange=function(s){var a=n.editor;if(a&&a.initialized){var y=a.getContent();n.props.value!==void 0&&n.props.value!==y&&n.props.rollback!==!1&&(n.rollbackTimer||(n.rollbackTimer=window.setTimeout(n.rollbackChange,typeof n.props.rollback=="number"?n.props.rollback:200))),y!==n.currentContent&&(n.currentContent=y,q(n.props.onEditorChange)&&n.props.onEditorChange(y,a))}},n.handleEditorChangeSpecial=function(s){(s.key==="Backspace"||s.key==="Delete")&&n.handleEditorChange(s)},n.initialise=function(s){var a,y,b;s===void 0&&(s=0);var v=n.elementRef.current;if(v){if(!Ye(v)){if(s===0)setTimeout(function(){return n.initialise(1)},1);else if(s<100)setTimeout(function(){return n.initialise(s+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var g=Ge(n.view),f=E(E(E(E({},n.props.init),{selector:void 0,target:v,disabled:n.props.disabled,readonly:n.props.readonly,inline:n.inline,plugins:Be((a=n.props.init)===null||a===void 0?void 0:a.plugins,n.props.plugins),toolbar:(y=n.props.toolbar)!==null&&y!==void 0?y:(b=n.props.init)===null||b===void 0?void 0:b.toolbar}),n.props.licenseKey?{license_key:n.props.licenseKey}:{}),{setup:function(N){n.editor=N,n.bindHandlers({}),n.inline&&!re(v)&&N.once("PostRender",function(h){N.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&q(n.props.init.setup)&&n.props.init.setup(N),n.props.disabled&&(se(n.editor)?n.editor.options.set("disabled",n.props.disabled):n.editor.mode.set("readonly"))},init_instance_callback:function(N){var h,j=n.getInitialValue();n.currentContent=(h=n.currentContent)!==null&&h!==void 0?h:N.getContent(),n.currentContent!==j&&(n.currentContent=j,N.setContent(j),N.undoManager.clear(),N.undoManager.add(),N.setDirty(!1)),n.props.init&&q(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(N)}});n.inline||(v.style.visibility=""),re(v)&&(v.value=n.getInitialValue()),g.init(f)}},n.id=n.props.id||pe("tiny-react"),n.elementRef=I.createRef(),n.inline=(u=(o=n.props.inline)!==null&&o!==void 0?o:(l=n.props.init)===null||l===void 0?void 0:l.inline)!==null&&u!==void 0?u:!1,n.boundHandlers={},n}return Object.defineProperty(c.prototype,"view",{get:function(){var d,o;return(o=(d=this.elementRef.current)===null||d===void 0?void 0:d.ownerDocument.defaultView)!==null&&o!==void 0?o:window},enumerable:!1,configurable:!0}),c.prototype.componentDidUpdate=function(d){var o=this,l,u;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(d),this.editor.initialized)){if(this.currentContent=(l=this.currentContent)!==null&&l!==void 0?l:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==d.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var n=this.editor;n.undoManager.transact(function(){var a;if(!o.inline||n.hasFocus())try{a=n.selection.getBookmark(3)}catch{}var y=o.valueCursor;if(n.setContent(o.props.value),!o.inline||n.hasFocus())for(var b=0,v=[a,y];b<v.length;b++){var g=v[b];if(g)try{n.selection.moveToBookmark(g),o.valueCursor=g;break}catch{}}})}if(this.props.readonly!==d.readonly){var s=(u=this.props.readonly)!==null&&u!==void 0?u:!1;le(this.editor,s?"readonly":"design")}this.props.disabled!==d.disabled&&(se(this.editor)?this.editor.options.set("disabled",this.props.disabled):le(this.editor,this.props.disabled?"readonly":"design"))}},c.prototype.componentDidMount=function(){var d=this,o,l,u,n,s;if(ue(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(l=(o=this.props).onScriptsLoadError)===null||l===void 0||l.call(o,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((u=this.elementRef.current)===null||u===void 0)&&u.ownerDocument){var a=function(){var b,v;(v=(b=d.props).onScriptsLoad)===null||v===void 0||v.call(b),d.initialise()},y=function(b){var v,g;(g=(v=d.props).onScriptsLoadError)===null||g===void 0||g.call(v,b)};qe.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(s=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.delay)!==null&&s!==void 0?s:0,a,y)}},c.prototype.componentWillUnmount=function(){var d=this,o=this.editor;o&&(o.off(K,this.handleEditorChange),o.off(this.beforeInputEvent(),this.handleBeforeInput),o.off("keypress",this.handleEditorChangeSpecial),o.off("keydown",this.handleBeforeInputSpecial),o.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(l){o.off(l,d.boundHandlers[l])}),this.boundHandlers={},o.remove(),this.editor=void 0)},c.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},c.prototype.beforeInputEvent=function(){return Ue()?"beforeinput SelectionChange":"SelectionChange"},c.prototype.renderInline=function(){var d=this.props.tagName,o=d===void 0?"div":d;return I.createElement(o,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},c.prototype.renderIframe=function(){return I.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},c.prototype.getScriptSources=function(){var d,o,l=(d=this.props.scriptLoading)===null||d===void 0?void 0:d.async,u=(o=this.props.scriptLoading)===null||o===void 0?void 0:o.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:l,defer:u}]:this.props.tinymceScriptSrc.map(function(y){return typeof y=="string"?{src:y,async:l,defer:u}:y});var n=this.props.cloudChannel,s=this.props.apiKey?this.props.apiKey:"no-api-key",a="https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(n,"/tinymce.min.js");return[{src:a,async:l,defer:u}]},c.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},c.prototype.bindHandlers=function(d){var o=this;if(this.editor!==void 0){_e(this.editor,d,this.props,this.boundHandlers,function(s){return o.props[s]});var l=function(s){return s.onEditorChange!==void 0||s.value!==void 0},u=l(d),n=l(this.props);!u&&n?(this.editor.on(K,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):u&&!n&&(this.editor.off(K,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},c.propTypes=Le,c.defaultProps={cloudChannel:"7"},c})(I.Component);const{Option:z}=m,ze=({isEdit:i,onNext:c,onBack:d,extractedData:o})=>{const[l]=t.useForm(),[u,n]=I.useState(1),[s,a]=I.useState("");I.useEffect(()=>{const f={...o,...i};f&&(l.setFieldsValue({document:f.documentLandArea||"",landAreaPlan:f.landAreaPlan||"",landAreaSite:f.landAreaSite||"",landAreaGF:f.landAreaGF||"",builtUpAreaFF:f.builtUpAreaFF||"",builtUpAreaSF:f.builtUpAreaSF||"",existingBuiltUpGF:f.existingBuiltUpGF||"",existingBuiltUpFF:f.existingBuiltUpFF||"",existingBuiltUpSF:f.existingBuiltUpSF||"",landAreaForValuation:f.landAreaForValuation||"",siteArea:f.siteArea||"",planArea:f.planArea||"",deedArea:f.deedArea||"",landRate:f.landRate||"",constructionAreaForValuation:f.constructionAreaForValuation||"",constructionRate:f.constructionRate||"",ValuationatPresentStage:f.ValuationatPresentStage||"",ValuationasperGovtGuideline:f.ValuationasperGovtGuideline||"",realizableValue:f.realizableValue||""}),f.valuationRemarks&&Array.isArray(f.valuationRemarks)&&(n(f.valuationRemarks.length),f.valuationRemarks.forEach((N,h)=>{l.setFieldValue(["valuationRemarks",h],N)})))},[i,o,l]);const y=(f,N)=>{const{landAreaForValuation:h=0,landRate:j=0,constructionAreaForValuation:x=0,constructionRate:D=0}=N,F=h*j,L=x*D,M=F+L,A=(M*.8).toFixed(2);l.setFieldsValue({totalLandValuation:F,totalConstructionValuation:L,fairMarketValue:M,distressValue:A})},b=f=>{const N={...f,valuationRemarks:Array.isArray(f.valuationRemarks)?f.valuationRemarks:[f.valuationRemarks].filter(Boolean)};c(N)},v=()=>{n(f=>f+1)},g=f=>{n(j=>j-1);const h=[...l.getFieldValue("valuationRemarks")||[]];h.splice(f,1),l.setFieldsValue({valuationRemarks:h})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Valuation Details"}),e.jsxs(t,{layout:"vertical",form:l,onFinish:b,onValuesChange:y,className:"grid grid-cols-1 gap-4",children:[e.jsx("p",{className:"font-semibold mb-2",children:"Land area (Sq. ft)"}),e.jsxs("div",{className:"flex max-w-4xl gap-4 justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"Document",name:"document",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"Plan",name:"landAreaPlan",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"Site",name:"landAreaSite",children:e.jsx(p,{type:"text",style:{width:"100%"}})})})]}),e.jsx("p",{className:"font-semibold mb-2",children:"Built Up Area (Proposed)"}),e.jsxs("div",{className:"flex gap-4 max-w-4xl",children:[e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"GF",name:"landAreaGF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"FF",name:"builtUpAreaFF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"SF",name:"builtUpAreaSF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})})]}),e.jsx("p",{className:"font-semibold mb-2",children:"Built Up Area (Existing)"}),e.jsxs("div",{className:"flex gap-4 max-w-4xl",children:[e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"GF",name:"existingBuiltUpGF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"FF",name:"existingBuiltUpFF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})}),e.jsx("div",{className:"flex-1",children:e.jsx(t.Item,{label:"SF",name:"existingBuiltUpSF",children:e.jsx(p,{type:"text",style:{width:"100%"}})})})]}),e.jsx(t.Item,{label:"Land Area for Valuation",name:"landAreaForValuation",children:e.jsxs(m,{placeholder:"Select land area type",onChange:f=>a(f),children:[e.jsx(z,{value:"site",children:"Site"}),e.jsx(z,{value:"plan",children:"Plan"}),e.jsx(z,{value:"both",children:"Deed/ATS"})]})}),s==="site"&&e.jsx(t.Item,{label:"Site Area (sq. ft)",name:"siteArea",children:e.jsx(p,{placeholder:"Enter Site area"})}),s==="plan"&&e.jsx(t.Item,{label:"Plan Area (sq. ft)",name:"planArea",children:e.jsx(p,{placeholder:"Enter Plan area"})}),s==="both"&&e.jsx(t.Item,{label:"Deed/ATS Area (sq. ft)",name:"deedArea",children:e.jsx(p,{placeholder:"Enter Deed/ATS area"})}),e.jsx(t.Item,{label:"Land Rate considered per sq. Ft.",name:"landRate",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Total Land Valuation",name:"totalLandValuation",children:e.jsx(p,{type:"text",disabled:!0})}),e.jsx(t.Item,{label:"Construction Area considered for Valuation",name:"constructionAreaForValuation",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Construction Rate considered per sq. Ft",name:"constructionRate",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Total Construction Valuation",name:"totalConstructionValuation",children:e.jsx(p,{type:"text",disabled:!0})}),e.jsx(t.Item,{label:"Fair Market Value/ Total Value of the unit after completion",name:"fairMarketValue",children:e.jsx(p,{type:"text",disabled:!0})}),e.jsx(t.Item,{label:"Valuation at Present Stage ",name:"ValuationatPresentStage",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Valuation as per Govt. Guideline ",name:"ValuationasperGovtGuideline",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Realizable Value",name:"realizableValue",children:e.jsx(p,{type:"text"})}),e.jsx(t.Item,{label:"Distress Value (80%)",name:"distressValue",children:e.jsx(p,{type:"text",disabled:!0})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"ant-form-item-label",children:"Valuation Remarks"}),Array.from({length:u}).map((f,N)=>e.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[e.jsx(t.Item,{name:["valuationRemarks",N],noStyle:!0,children:e.jsx(p.TextArea,{rows:2,style:{width:"90%"}})}),N>0&&e.jsx(P,{type:"text",danger:!0,icon:e.jsx(Oe,{}),onClick:()=>g(N)})]},N)),e.jsx(P,{type:"dashed",onClick:v,icon:e.jsx(Ce,{}),className:"mt-2",children:"Add Remark"})]}),e.jsxs(t.Item,{className:"text-right",children:[d&&e.jsx(P,{type:"default",onClick:d,className:"mr-2 px-4 py-2 bg-gray-500 rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})},$e=({isEdit:i,onNext:c,onBack:d,extractedData:o})=>{const[l]=t.useForm();I.useEffect(()=>{const n={...o,...i};n&&l.setFieldsValue({localityDevelopment:n.localityDevelopment||"",approachRoadType:n.approachRoadType||"",approachRoadWidth:n.approachRoadWidth||"",distanceFromCityCentre:n.distanceFromCityCentre||"",distanceFromRailwayStation:n.distanceFromRailwayStation||"",distanceFromBusStand:n.distanceFromBusStand||"",distanceFromHospital:n.distanceFromHospital||"",occupancyPercentage:n.occupancyPercentage||"",habitationPercentage:n.habitationPercentage||"",proposedRoadWidening:n.proposedRoadWidening||"",cityCentreName:n.cityCentreName||"",drainageConnection:n.drainageConnection||"",waterElectricityConnection:n.waterElectricityConnection||"",nallahRiverHighTension:n.nallahRiverHighTension||"",seismicZone:n.seismicZone||"",cycloneZone:n.cycloneZone||"",landslideProneZone:n.landslideProneZone||"",degreeOfRisk:n.degreeOfRisk||"",floodZone:n.floodZone||"",crZone:n.crZone||"",followsNDMAGuidelines:n.followsNDMAGuidelines||"",demolitionRisk:n.localityDemolitionRisk||n.demolitionRisk||""})},[i,o,l]);const u=n=>{const s={...n};c(s)};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"LOCALITY AND NDMA DETAILS"}),e.jsxs(t,{layout:"vertical",form:l,onFinish:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(V,{orientation:"left",className:"md:col-span-2",children:"LOCALITY DETAILS"}),e.jsxs("div",{children:[e.jsx(t.Item,{label:"Locality Development",name:"localityDevelopment",initialValue:"Under Developed",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Under Developed",children:"Under Developed"}),e.jsx(m.Option,{value:"Developed",children:"Developed"}),e.jsx(m.Option,{value:"Semi Developed",children:"Semi Developed"})]})}),e.jsx(t.Item,{label:"Type of Approach Road",name:"approachRoadType",initialValue:"RCC",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"RCC",children:"RCC"}),e.jsx(m.Option,{value:"Kutcha",children:"Kutcha"}),e.jsx(m.Option,{value:"Pucca",children:"Pucca"})]})}),e.jsx(t.Item,{label:"Approach Road Width (In Feet)",name:"approachRoadWidth",initialValue:"15 FT",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Distance from city centre (in KM)",name:"distanceFromCityCentre",initialValue:"9 KM",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Distance from Railway Station (in KM)",name:"distanceFromRailwayStation",initialValue:"9 KM",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Distance from Bus Stand (in KM)",name:"distanceFromBusStand",initialValue:"4 KM",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Distance from Hospital (in KM)",name:"distanceFromHospital",initialValue:"4 KM",children:e.jsx(p,{})})]}),e.jsxs("div",{children:[e.jsx(t.Item,{label:"Occupancy of Project/Area (%)",name:"occupancyPercentage",initialValue:"30%",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Habitation in surrounding Area",name:"habitationPercentage",initialValue:"40%",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Proposed Road Widening",name:"proposedRoadWidening",initialValue:"No",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Name of City Centre Considered",name:"cityCentreName",initialValue:"GWALIOR",children:e.jsx(p,{})}),e.jsx(t.Item,{label:"Drainage Line connection",name:"drainageConnection",initialValue:"Yes",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Water & Electricity Supply Connection",name:"waterElectricityConnection",initialValue:"Yes",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Nallah, River, High tension line if any",name:"nallahRiverHighTension",initialValue:"NA",children:e.jsx(p,{})})]}),e.jsx(V,{orientation:"left",className:"md:col-span-2",children:"NDMA GUIDELINES"}),e.jsxs("div",{children:[e.jsx(t.Item,{label:"Property Falls under Seismic Zone",name:"seismicZone",initialValue:"III",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"I",children:"Zone I"}),e.jsx(m.Option,{value:"II",children:"Zone II"}),e.jsx(m.Option,{value:"III",children:"Zone III"}),e.jsx(m.Option,{value:"IV",children:"Zone IV"}),e.jsx(m.Option,{value:"V",children:"Zone V"})]})}),e.jsx(t.Item,{label:"Property Falls under Cyclone Zone",name:"cycloneZone",initialValue:"No",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Property falls under Landslide Prone Zone",name:"landslideProneZone",initialValue:"No",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Degree of Risk Associated",name:"degreeOfRisk",initialValue:"Medium",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"High",children:"High"}),e.jsx(m.Option,{value:"Medium",children:"Medium"}),e.jsx(m.Option,{value:"Low",children:"Low"})]})})]}),e.jsxs("div",{children:[e.jsx(t.Item,{label:"Property Falls under Flood Zone",name:"floodZone",initialValue:"NO",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"YES",children:"YES"}),e.jsx(m.Option,{value:"NO",children:"NO"})]})}),e.jsx(t.Item,{label:"Property Falls in CR Zone",name:"crZone",initialValue:"NO",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"YES",children:"YES"}),e.jsx(m.Option,{value:"NO",children:"NO"})]})}),e.jsx(t.Item,{label:"Follows NDMA Guidelines",name:"followsNDMAGuidelines",initialValue:"Yes",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Any Demolition Risk with Details Propety falls in",name:"demolitionRisk",initialValue:"None",children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"None",children:"None"}),e.jsx(m.Option,{value:"Demolition List",children:"Demolition List"}),e.jsx(m.Option,{value:"Forest Land",children:"Forest Land"}),e.jsx(m.Option,{value:"Govt Land",children:"Govt Land"}),e.jsx(m.Option,{value:"Govt Notification",children:"Govt Notification"}),e.jsx(m.Option,{value:"Road Widening",children:"Road Widening"}),e.jsx(m.Option,{value:"NII",children:"NII"})]})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(t.Item,{className:"text-right",children:[d&&e.jsx(P,{type:"default",onClick:d,className:"mr-2 px-4 py-2 bg-gray-500 rounded",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Next"})]})})]})]})},Qe=({isEdit:i,onNext:c,onBack:d,initialValues:o,extractedData:l})=>{const[u]=t.useForm();I.useEffect(()=>{const a={...l,...i};a&&u.setFieldsValue({deviationToPlan:a.deviationToPlan||"",deviationDetails:a.deviationDetails||"",demolitionRisk:a.violationDemolitionRisk||a.demolitionRiskViolation||"",demolitionDetails:a.demolitionDetails||"",encroachment:a.encroachment||"",encroachmentDetails:a.encroachmentDetails||""})},[i,l,u]);const n=a=>{c(a)},s=a=>{"deviationToPlan"in a&&a.deviationToPlan==="No"&&u.setFieldsValue({deviationDetails:"NA"}),"demolitionRisk"in a&&a.demolitionRisk==="No"&&u.setFieldsValue({demolitionDetails:"NA"}),"encroachment"in a&&a.encroachment==="No"&&u.setFieldsValue({encroachmentDetails:"NA"})};return e.jsxs("div",{className:"max-w-5xl mx-auto p-4 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"VIOLATION OBSERVED, IF ANY"}),e.jsxs(t,{form:u,layout:"vertical",onFinish:n,onValuesChange:s,initialValues:{deviationToPlan:"No",deviationDetails:"NA",demolitionRisk:"No",demolitionDetails:"NA",encroachment:"No",encroachmentDetails:"NA"},children:[e.jsx(_,{gutter:16,children:e.jsxs(k,{span:24,children:[e.jsx(V,{orientation:"left",children:"Deviation to Plan"}),e.jsxs(_,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"deviationToPlan",label:"Deviation to Plan",rules:[{required:!0}],children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})})}),e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"deviationDetails",label:"If yes",rules:[({getFieldValue:a})=>({required:a("deviationToPlan")==="Yes",message:"Please provide deviation details"})],children:e.jsx(p,{disabled:u.getFieldValue("deviationToPlan")==="No"})})})]}),e.jsx(V,{orientation:"left",children:"Demolition Risk"}),e.jsxs(_,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"demolitionRisk",label:"Demolition Risk",rules:[{required:!0}],children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})})}),e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"demolitionDetails",label:"If yes",rules:[({getFieldValue:a})=>({required:a("demolitionRisk")==="Yes",message:"Please provide demolition details"})],children:e.jsx(p,{disabled:u.getFieldValue("demolitionRisk")==="No"})})})]}),e.jsx(V,{orientation:"left",children:"Encroachment"}),e.jsxs(_,{gutter:16,children:[e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"encroachment",label:"Encroachment",rules:[{required:!0}],children:e.jsxs(m,{children:[e.jsx(m.Option,{value:"Yes",children:"Yes"}),e.jsx(m.Option,{value:"No",children:"No"})]})})}),e.jsx(k,{span:12,children:e.jsx(t.Item,{name:"encroachmentDetails",label:"If yes",rules:[({getFieldValue:a})=>({required:a("encroachment")==="Yes",message:"Please provide encroachment details"})],children:e.jsx(p,{disabled:u.getFieldValue("encroachment")==="No"})})})]})]})}),e.jsxs(t.Item,{className:"text-right",children:[d&&e.jsx(P,{type:"default",onClick:d,className:"mr-2",children:"Back"}),e.jsx(P,{type:"primary",htmlType:"submit",children:"Submit"})]})]})]})},Je=({setFormData:i})=>{},Bn=()=>{var M;const i=xe(),{loading:c,error:d}=$(A=>A.hfBanks),o=$(A=>A.auth.user),l=ve(),[u,n]=I.useState(1),[s,a]=I.useState({}),[y,b]=I.useState({}),{id:v}=ce(),[g,f]=I.useState({}),N=async A=>{try{const C=await i(ye(A)).unwrap();a(C)}catch(C){console.error("Error fetching data:",C)}};I.useEffect(()=>{v&&N(v)},[v,i]);const h=async()=>{const A={...y.step1,...y.step2,...y.step3,...y.step4,...y.step5,...y.step6};try{await i(ge({id:v,bankName:"home-first",updateData:A})).unwrap(),R.success("Case submitted finally!"),l("/")}catch(C){console.error("Final submission failed",C),R.error("Final submission failed")}},j=async A=>{const C={...y,[`step${u}`]:A};if(b(C),v)try{await i(Y({id:v,...A})).unwrap(),R.success(`Step ${u} updated successfully`),await N(v)}catch(w){console.error("Step update failed:",w),R.error("Failed to update this step");return}if(o.role==="FieldOfficer"&&u===1){try{await i(Y({id:v,...A})).unwrap(),R.success("Form updated successfully"),l("/field/dashboard")}catch(w){console.error("Submission failed:",w),R.error("Failed to submit form")}return}if(u===6&&v&&o.role==="Admin"){const w={...C.step1,...C.step2,...C.step3,...C.step4,...C.step5,...C.step6};try{const T=await i(Y({id:v,...w})).unwrap();R.success("Form updated successfully"),l(`/bank/home-first/${T==null?void 0:T._id}`)}catch(T){console.error("Update failed:",T),R.error("Failed to update form")}return}if(u===6){const w={...C.step1,...C.step2,...C.step3,...C.step4,...C.step5,...C.step6};try{const T=await i(je(w)).unwrap();R.success("Form submitted successfully"),l(`/bank/home-first/${T._id}`)}catch(T){console.error("Creation failed:",T),R.error("Failed to submit form")}return}n(w=>w+1)},x=()=>{n(A=>A>1?A-1:A)},D=A=>{n(A)},F=(o==null?void 0:o.role)==="FieldOfficer",L=[{id:1,label:"L & T ASSIGNMENT DETAILS",component:e.jsx(Fe,{isEdit:s,onNext:j,extractedData:g})},{id:2,label:"General & Document Details ",component:e.jsx(ke,{isEdit:s,onNext:j,onBack:x,extractedData:g})},{id:3,label:"Locality & NDMA Details",component:e.jsx($e,{isEdit:s,onNext:j,onBack:x,extractedData:g})},{id:4,label:"Property & Strultural  Details",component:e.jsx(we,{isEdit:s,onNext:j,onBack:x,extractedData:g})},{id:5,label:"Valuation Details",component:e.jsx(ze,{isEdit:s,onNext:j,onBack:x,extractedData:g})},{id:6,label:"Violation Observed",component:e.jsx(Qe,{isEdit:s,onNext:j,onBack:x,extractedData:g})}].filter(A=>!F||A.id===1);return e.jsx("div",{className:"bg-gray-100 py-2 px-2  relative",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white shadow rounded p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Home First Bank Report Form"})}),e.jsx(Je,{setFormData:f}),e.jsx("div",{className:"flex  border-gray-200 gap-2 p-5  ",children:L.map(A=>e.jsx("button",{className:`py-4 rounded-sm  px-4 font-medium border  text-sm focus:outline-none ${u===A.id?"border-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D(A.id),children:A.label},A.id))}),e.jsx("div",{className:"p-4",children:(M=L.find(A=>A.id===u))==null?void 0:M.component}),u===6&&v&&(o==null?void 0:o.role)==="Admin"&&e.jsx("div",{className:"mt-6 text-right",children:e.jsx("button",{onClick:h,className:"ml-4 px-5 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Final Submit"})}),c&&e.jsx("p",{className:"text-blue-600",children:"Submitting..."}),d&&e.jsxs("p",{className:"text-red-600",children:["Error: ",d]})]})})};export{Bn as default};
