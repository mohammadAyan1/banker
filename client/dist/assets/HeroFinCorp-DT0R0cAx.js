import{a as o,j as e,i as P,k as D,a1 as B,aK as k,V as S,aL as R,aM as U}from"./index-w41rB-zE.js";import{F as t}from"./index-CWNi5yC6.js";import{C as f}from"./Collapse-Cvs4Tgd2.js";import{I as a}from"./index-D4KWIJoL.js";import{B as b}from"./button-CgeEP9mE.js";import{d as I}from"./dayjs.min-C51UK5Y8.js";import{S as g}from"./index-CqdAOu9q.js";import{D as v}from"./index-p-1VuaTs.js";import{U as V,R as O}from"./index-BkUuvNze.js";import{L as T}from"./index-D8qmpju1.js";import{T as L}from"./index-CcXi3yHa.js";import"./index-CMUBo7h7.js";import"./isVisible-DhUEo0yb.js";import"./index-Cn9P2GMv.js";import"./index-DDhR-cup.js";import"./roundedArrow-DSsJecMi.js";import"./compact-item-CeLi5kmI.js";import"./useBreakpoint-C8nH0e-V.js";import"./useForceUpdate-DbKdcjNo.js";import"./CloseCircleFilled-DZvUHeBU.js";import"./LeftOutlined-CuVV-6P5.js";import"./TextArea-B63JDhoP.js";import"./useVariants-Dhb08RNU.js";import"./EyeOutlined-DPdilBGX.js";import"./PurePanel-2XbhPsO7.js";import"./fade-UjQwWFCr.js";import"./Pagination-Dv8CqHjM.js";import"./styleChecker-Dr9BUc6D.js";const{Panel:E}=f,H=({isEdit:s,onNext:h})=>{const[m]=t.useForm();o.useEffect(()=>{s&&m.setFieldsValue(s)},[s]);const x=n=>{h(n)};return e.jsx(f,{defaultActiveKey:["1"],className:"mb-4",children:e.jsx(E,{header:"Job Details",children:e.jsxs(t,{layout:"vertical",form:m,onFinish:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(t.Item,{label:"Bank Name",name:"bankName",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Bank Ref No",name:"bankRefNo",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Business Division",name:"businessDivision",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Internal Ref",name:"internalRef",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Applicant Name",name:"applicantName",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Application Ref",name:"applicationRef",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Transaction Type",name:"transactionType",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Contact Person",name:"contactPerson",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Contact Mobile",name:"contactMobile",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Contact Email",name:"contactEmail",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Loan Purpose",name:"loanPurpose",children:e.jsx(a.TextArea,{rows:2})}),e.jsx(t.Item,{label:"Property Type",name:"propertyType",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Valuation Type",name:"valuationType",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Special Instructions",name:"specialInstructions",children:e.jsx(a.TextArea,{rows:2})}),e.jsx("div",{className:"col-span-2",children:e.jsx(b,{type:"primary",htmlType:"submit",className:"bg-[#16828E]",children:"Save & Continue"})})]})},"1")})},{Panel:M}=f,{Option:y}=g,J=({isEdit:s,onNext:h})=>{const[m]=t.useForm();o.useEffect(()=>{if(s){const n={...s,jobCreatedOn:s.jobCreatedOn?I(s.jobCreatedOn):null,estimatedTime:s.estimatedTime?I(s.estimatedTime):null,urgentCompletedBy:s.urgentCompletedBy?I(s.urgentCompletedBy):null,jobCompletedDate:s.jobCompletedDate?I(s.jobCompletedDate):null};m.setFieldsValue(n)}},[s]);const x=n=>{h(n)};return e.jsx(f,{defaultActiveKey:["1"],className:"mb-4",children:e.jsx(M,{header:"Job & Property Access Details",children:e.jsxs(t,{layout:"vertical",form:m,onFinish:x,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(t.Item,{label:"Estimated Completion (Hours)",name:"estimatedHours",children:e.jsx(a,{type:"number"})}),e.jsx(t.Item,{label:"Assign To",name:"assignTo",children:e.jsx(g,{placeholder:"Select",children:e.jsx(y,{value:"UEAA",children:"Unique Engineering and Associate Bhopal"})})}),e.jsx(t.Item,{label:"Assign Form",name:"assignForm",children:e.jsx(g,{placeholder:"Select",children:e.jsx(y,{value:"Fincorp Final_New",children:"Fincorp Final_New"})})}),e.jsx(t.Item,{label:"Report Template",name:"reportTemplate",children:e.jsx(g,{placeholder:"Select",children:e.jsx(y,{value:"v1.1 Fincorp Report Template",children:"v1.1 Fincorp Report Template"})})}),e.jsx(t.Item,{label:"Job Created on",name:"jobCreatedOn",children:e.jsx(v,{showTime:!0,className:"w-full"})}),e.jsx(t.Item,{label:"Estimated Completion Time",name:"estimatedTime",children:e.jsx(v,{showTime:!0,className:"w-full"})}),e.jsx(t.Item,{label:"Urgent Completed By",name:"urgentCompletedBy",children:e.jsx(v,{className:"w-full"})}),e.jsx(t.Item,{label:"Job Completed Date",name:"jobCompletedDate",children:e.jsx(v,{showTime:!0,className:"w-full"})}),e.jsx(t.Item,{label:"Status",name:"status",children:e.jsxs(g,{placeholder:"Select",children:[e.jsx(y,{value:"Completed",children:"Completed"}),e.jsx(y,{value:"In Progress",children:"In Progress"})]})}),e.jsx(t.Item,{label:"Contact Person",name:"contactPerson",children:e.jsx(a,{})}),e.jsx(t.Item,{label:"Phone/Mobile No.",name:"phone",children:e.jsx(a,{})}),e.jsx("div",{className:"col-span-2",children:e.jsx(b,{type:"primary",htmlType:"submit",className:"bg-[#16828E]",children:"Save & Continue"})})]})},"1")})},{Panel:$}=f,{TextArea:q}=a,{Text:w}=L,K=({isEdit:s,onNext:h})=>{const[m,x]=o.useState(!0),[n,C]=o.useState(""),[i,u]=o.useState([]),[r,j]=o.useState([{text:"The property type determined during valuation differs from the property type set in the order.",author:"Unique Engineering and Associate Bhopal",date:"Mar 22, 2025 3:40 PM"}]);o.useEffect(()=>{s&&(u(s.attachments),j(s.comments))},[s]);const N=l=>{const c=l.file;c.status==="done"&&u([...i,{name:c.name,type:c.type}])},d=()=>{n.trim()&&(j([...r,{text:n,author:"Unique Engineering and Associate Bhopal",date:new Date().toLocaleString()}]),C(""))},p=l=>{const c=i.filter((_,A)=>A!==l);u(c)},F=()=>{h({attachments:i,comments:r})};return e.jsx(f,{defaultActiveKey:["1"],className:"mb-4",children:e.jsx($,{header:"Attachments & Comments",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h5",{className:"font-bold text-xl",children:"Attachments"}),e.jsx(V,{customRequest:N,showUploadList:!1,accept:".pdf,.doc,.jpg,.png",children:e.jsx(b,{icon:e.jsx(O,{}),className:"mb-3",children:"Upload Attachment"})}),e.jsx(T,{dataSource:i,renderItem:(l,c)=>e.jsx(T.Item,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(w,{children:l.name}),e.jsx(b,{type:"text",danger:!0,onClick:()=>p(c),children:"🗑️"})]})})}),e.jsx("h5",{className:"font-bold text-xl mt-4",children:"Comments"}),e.jsx(q,{rows:4,placeholder:"Add a new comment...",value:n,onChange:l=>C(l.target.value),className:"mb-3"}),e.jsx(b,{style:{backgroundColor:"#16828E"},type:"primary",onClick:d,className:"mb-3",children:"Save Comment"}),e.jsx(T,{dataSource:r,renderItem:(l,c)=>e.jsxs(T.Item,{className:"border rounded p-3 mb-2",children:[e.jsx(w,{className:"block",children:l.text}),e.jsxs(w,{className:"text-gray-500",children:["On ",l.date," by ",e.jsx("strong",{children:l.author})]})]},c)}),e.jsx(b,{type:"primary",onClick:F,className:"mt-4",style:{backgroundColor:"#16828E"},children:"Save & Continue"})]})},"1")})},Ce=()=>{const[s,h]=o.useState(1),[m,x]=o.useState({}),[n,C]=o.useState({}),i=P(),u=D(),{id:r}=B();r&&o.useEffect(()=>{(async d=>{try{const p=await i(k(d)).unwrap();C(p)}catch(p){console.error("Error fetching data:",p)}})(r)},[r]);const j=async N=>{const d={...m,[`step${s}`]:N};if(x(d),s<3)h(s+1),S.success(`Step ${s} completed`);else{const p={...d.step1,...d.step2,...d.step3};r?(await i(U({id:r,formData:p})).unwrap(),u("/"),S.success("updated successfully!")):(await i(R(p)).unwrap(),u(`/bank/hero-fincorp/${response._id}`),S.success("All steps completed successfully!"))}};return e.jsx("div",{className:"bg-gray-100 py-4 px-2 min-h-screen",children:e.jsxs("div",{className:"max-w-5xl mx-auto bg-white shadow-lg rounded p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Hero FinCorp Valuation Form"}),e.jsxs("p",{className:"text-gray-500 mb-6",children:["Step ",s," of 3"]}),e.jsx(H,{isEdit:n,onNext:j}),e.jsx(J,{isEdit:n,onNext:j}),e.jsx(K,{isEdit:n,onNext:j})]})})};export{Ce as default};
