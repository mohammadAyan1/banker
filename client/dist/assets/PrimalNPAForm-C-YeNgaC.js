import{a as v,j as e,V as T,i as ae,k as se,aY as re}from"./index-w41rB-zE.js";import{G as ie}from"./GeoLocationInput-Bovco-IV.js";import{F as t,R,C as I}from"./index-CWNi5yC6.js";import{T as C}from"./index-CcXi3yHa.js";import{I as u}from"./index-D4KWIJoL.js";import{S}from"./index-CqdAOu9q.js";import{T as b}from"./index-Drwhi7UU.js";import{B as g}from"./button-CgeEP9mE.js";import{d as J}from"./dayjs.min-C51UK5Y8.js";import{D as L}from"./index-p-1VuaTs.js";import{C as A}from"./Collapse-Cvs4Tgd2.js";import{F as q}from"./Table-BBOEhX1S.js";import{h as P}from"./moment-C5S46NFB.js";import{R as Y}from"./index-Cp_0w9sd.js";import{C as w}from"./index-BYjS_aR9.js";import{U as le,R as ne}from"./index-BkUuvNze.js";import"./index-CMUBo7h7.js";import"./isVisible-DhUEo0yb.js";import"./index-Cn9P2GMv.js";import"./index-DDhR-cup.js";import"./roundedArrow-DSsJecMi.js";import"./compact-item-CeLi5kmI.js";import"./useBreakpoint-C8nH0e-V.js";import"./useForceUpdate-DbKdcjNo.js";import"./CloseCircleFilled-DZvUHeBU.js";import"./styleChecker-Dr9BUc6D.js";import"./TextArea-B63JDhoP.js";import"./useVariants-Dhb08RNU.js";import"./EyeOutlined-DPdilBGX.js";import"./PurePanel-2XbhPsO7.js";import"./LeftOutlined-CuVV-6P5.js";import"./addEventListener-erzlvqlx.js";import"./EllipsisOutlined-DjOyNqyA.js";import"./Pagination-Dv8CqHjM.js";import"./fade-UjQwWFCr.js";const{Title:V}=C,{Option:k}=S,oe=({onNext:x,formData:c,isEdit:n})=>{const[y]=t.useForm();v.useEffect(()=>{var a,s,o,d,j,N,h,U,H,G,_,K,Z,W,$,Q,z,X;if(n&&c){const te={...c,latitude:((a=c.latitudeLongitude)==null?void 0:a.coordinates[0])||"",longitude:((s=c.latitudeLongitude)==null?void 0:s.coordinates[1])||"",boundaryEASTApproved:((d=(o=c.boundaries)==null?void 0:o.east)==null?void 0:d.approved)||"",boundaryEASTSite:((N=(j=c.boundaries)==null?void 0:j.east)==null?void 0:N.site)||"",boundaryWESTApproved:((U=(h=c.boundaries)==null?void 0:h.west)==null?void 0:U.approved)||"",boundaryWESTSite:((G=(H=c.boundaries)==null?void 0:H.west)==null?void 0:G.site)||"",boundaryNORTHApproved:((K=(_=c.boundaries)==null?void 0:_.north)==null?void 0:K.approved)||"",boundaryNORTHSite:((W=(Z=c.boundaries)==null?void 0:Z.north)==null?void 0:W.site)||"",boundarySOUTHApproved:((Q=($=c.boundaries)==null?void 0:$.south)==null?void 0:Q.approved)||"",boundarySOUTHSite:((X=(z=c.boundaries)==null?void 0:z.south)==null?void 0:X.site)||""};y.setFieldsValue(te)}},[n,c,y]);const m=a=>{const s={...a,latitudeLongitude:{type:"Point",coordinates:[parseFloat(a.latitude||0),parseFloat(a.longitude||0)]},boundaries:{east:{approved:a.boundaryEASTApproved||"",site:a.boundaryEASTSite||""},west:{approved:a.boundaryWESTApproved||"",site:a.boundaryWESTSite||""},north:{approved:a.boundaryNORTHApproved||"",site:a.boundaryNORTHSite||""},south:{approved:a.boundarySOUTHApproved||"",site:a.boundarySOUTHSite||""}}};delete s.latitude,delete s.longitude,Object.keys(s).forEach(o=>{o.startsWith("boundary")&&delete s[o]}),x({address:s}),T.success("Saved Successfully")},r=(a,s,o=!1)=>e.jsx(t.Item,{name:s,label:a,rules:o?[{required:!0,message:`${a} is required`}]:[],children:e.jsx(u,{placeholder:a})}),f=a=>e.jsxs(R,{gutter:16,children:[e.jsx(I,{xs:24,md:4,children:e.jsx(u,{value:a,readOnly:!0,className:"bg-gray-100 font-semibold text-center"})}),e.jsx(I,{xs:24,md:10,children:e.jsx(t.Item,{name:`boundary${a}Approved`,children:e.jsx(u,{placeholder:"As Per Approved Plan"})})}),e.jsx(I,{xs:24,md:10,children:e.jsx(t.Item,{name:`boundary${a}Site`,children:e.jsx(u,{placeholder:"As Per Site Investigation"})})})]},a),i=["EAST","WEST","NORTH","SOUTH"],p={houseFlatNo:"A-101",floorNo:"3rd Floor",wingNameNo:"Wing B, No. 2",buildingNameNo:"Sunrise Towers, Bldg 5",plotNo:"Plot 45",surveyNo:"Survey 123/4",streetNameNo:"MG Road, Lane 7",stageSectorWardNo:"Sector 12",landmarks:"Near City Mall",villageLocation:"Kothrud",cityTalukaTown:"Pune",district:"Pune",state:"Maharashtra",country:"India",pinCode:"411038",latitude:"18.5204",longitude:"73.8567",propertyLocatedOn:"Main Road",approachRoad:"MORE THAN 10 FT",boundaryEASTApproved:"20m Road",boundaryEASTSite:"22m Road",boundaryWESTApproved:"Residential Building",boundaryWESTSite:"Residential Building",boundaryNORTHApproved:"Open Space",boundaryNORTHSite:"Open Space",boundarySOUTHApproved:"Commercial Complex",boundarySOUTHSite:"Commercial Complex",municipalLimit:"YES",municipalAuthority:"Pune Municipal Corporation",yearOfConstruction:2018,sellerName:"John Doe"};return e.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx(V,{level:4,className:"mb-4",children:"Address & General Details"}),e.jsxs(t,{form:y,layout:"vertical",onFinish:m,initialValues:p,className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[r("House/Flat No.","houseFlatNo",!0),r("Floor No.","floorNo"),r("Wing Name & No.","wingNameNo"),r("Building Name and Number","buildingNameNo"),r("Plot No.","plotNo"),r("Survey No.","surveyNo"),r("Street Name & No.","streetNameNo"),r("Stage/Sector/Ward No.","stageSectorWardNo"),r("Landmarks","landmarks"),r("Village/Location","villageLocation"),r("City/Taluka/Town","cityTalukaTown",!0),r("District","district"),r("State","state"),r("Country","country"),e.jsx(t.Item,{name:"pinCode",label:"Pin Code",rules:[{required:!0,message:"PIN Code is required"},{pattern:/^\d{6}$/,message:"PIN Code must be 6 digits"}],children:e.jsx(u,{placeholder:"PIN Code"})}),e.jsx(ie,{}),r("Property Located On","propertyLocatedOn"),e.jsx(t.Item,{name:"approachRoad",label:"Approach Road to Property",children:e.jsxs(S,{placeholder:"Select approach road",children:[e.jsx(k,{value:"MORE THAN 10 FT",children:"MORE THAN 10 FT"}),e.jsx(k,{value:"10 FT",children:"10 FT"}),e.jsx(k,{value:"LESS THAN 10 FT",children:"LESS THAN 10 FT"})]})}),e.jsxs("div",{className:"lg:col-span-3 mt-6",children:[e.jsx(V,{level:5,className:"mb-2",children:"Boundaries"}),i.map(f)]}),e.jsxs("div",{className:"lg:col-span-3 mt-6",children:[e.jsx(V,{level:5,className:"mb-2",children:"General Info"}),e.jsxs(R,{gutter:16,children:[e.jsx(I,{xs:24,md:6,children:e.jsx(t.Item,{name:"municipalLimit",label:"Municipal Limit",children:e.jsxs(S,{placeholder:"Select",children:[e.jsx(k,{value:"YES",children:"YES"}),e.jsx(k,{value:"NO",children:"NO"})]})})}),e.jsx(I,{xs:24,md:6,children:r("Municipal Authority (Name)","municipalAuthority")}),e.jsx(I,{xs:24,md:6,children:e.jsx(t.Item,{name:"yearOfConstruction",label:"Year of Construction",rules:[{type:"number",min:1900,max:new Date().getFullYear(),message:"Enter a valid year"}],children:e.jsx(b,{placeholder:"Year",className:"w-full"})})}),e.jsx(I,{xs:24,md:6,children:r("Seller Name","sellerName")})]})]}),e.jsx(t.Item,{className:"lg:col-span-3 text-end",children:e.jsx(g,{type:"primary",htmlType:"submit",children:"Next"})})]})]})},{Option:D}=S,de=({isEdit:x,onNext:c,onBack:n,data:y={}})=>{const[m]=t.useForm();v.useEffect(()=>{y!=null&&y.dateOfVisit?m.setFieldsValue({...y,dateOfVisit:J(y.dateOfVisit)}):m.setFieldsValue(y)},[y,m]);const r={branchName:"Pune Main Branch",applicationNo:"APP123456",customerNo:"CUST789",applicationStatus:"In Progress",applicantName:"Rahul Sharma",product:"Home Loan",transactionType:"New Loan",visitDoneBy:"Amit Kumar",dateOfVisit:J("2025-05-01"),locationType:"Urban",valuationApproaches:"Market Approach",valuationMethodology:"Comparative Method"},f=i=>{const p={...y,loanApplicationDetails:{...i,dateOfVisit:i.dateOfVisit?i.dateOfVisit.toISOString():void 0}};c(p),T.success("Saved successfully")};return e.jsxs("div",{className:"bg-white p-6 rounded-md shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Loan Application Details"}),e.jsxs(t,{form:m,layout:"vertical",onFinish:f,initialValues:r,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t.Item,{label:"Branch Name",name:"branchName",rules:[{required:!0,message:"Please enter branch name"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Application No.",name:"applicationNo",rules:[{required:!0,message:"Please enter application number"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Customer No.",name:"customerNo",rules:[{required:!0,message:"Please enter customer number"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Application Status",name:"applicationStatus",rules:[{required:!0,message:"Please select application status"}],children:e.jsxs(S,{placeholder:"Select status",children:[e.jsx(D,{value:"Open",children:"Open"}),e.jsx(D,{value:"In Progress",children:"In Progress"}),e.jsx(D,{value:"Completed",children:"Completed"}),e.jsx(D,{value:"Rejected",children:"Rejected"})]})}),e.jsx(t.Item,{label:"Applicant Name",name:"applicantName",rules:[{required:!0,message:"Please enter applicant name"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Product",name:"product",rules:[{required:!0,message:"Please enter product"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Transaction Type",name:"transactionType",rules:[{required:!0,message:"Please enter transaction type"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Visit Done By",name:"visitDoneBy",rules:[{required:!0,message:"Please enter name of the person"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Date of Visit",name:"dateOfVisit",rules:[{required:!0,message:"Please select visit date"}],children:e.jsx(L,{className:"w-full",format:"YYYY-MM-DD"})})]}),e.jsx("h3",{className:"text-lg font-medium mt-6 mb-3 text-gray-700",children:"Valuation Guideline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t.Item,{label:"Location Type",name:"locationType",rules:[{required:!0,message:"Please select location type"}],children:e.jsxs(S,{placeholder:"Select location type",children:[e.jsx(D,{value:"Urban",children:"Urban"}),e.jsx(D,{value:"Semi-Urban",children:"Semi-Urban"}),e.jsx(D,{value:"Rural",children:"Rural"})]})}),e.jsx(t.Item,{label:"Valuation Approaches",name:"valuationApproaches",rules:[{required:!0,message:"Please enter valuation approaches"}],children:e.jsx(u,{})}),e.jsx(t.Item,{label:"Valuation Methodology",name:"valuationMethodology",rules:[{required:!0,message:"Please enter valuation methodology"}],children:e.jsx(u,{})})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(g,{type:"default",onClick:n,children:"Back"}),e.jsx(g,{type:"primary",htmlType:"submit",children:"Next"})]})]})]})},{Panel:ce}=A,{Title:M}=C,{Option:me}=S,ue=({onNext:x,onBack:c,isEdit:n={},data:y={}})=>{const[m,r]=v.useState({}),f={municipalLimit:"YES",municipalAuthority:"Pune Municipal Corporation",yearOfConstruction:"2015",occupancyStatus:"OCCUPIED",ageOfProperty:"10",residualLife:"50",propertyFurnishing:"SEMI-FURNISHED",waterSupply:"YES",electricitySupply:"YES",parkingFacility:"YES",liftFacility:"NO",security:"YES",fireSafety:"YES",sewageSystem:"YES",wasteManagement:"YES",greenArea:"YES",clubhouse:"NO",swimmingPool:"NO",gymnasium:"NO",nearestBusStop:"1 KM (Kothrud Bus Stand)",nearestRailway:"5 KM (Pune Railway Station)",nearestAirport:"15 KM (Pune International Airport)",nearestSchool:"0.5 KM (City International School)",nearestBank:"1 KM (SBI Bank)",nearestHighway:"2 KM (Mumbai-Pune Expressway)",nearestHospital:"1 KM (Deenanath Mangeshkar Hospital)",nearestMall:"3 KM (Phoenix Marketcity)",plotAreaSqFt:"1200",plotAreaSqMeter:"111.48",constructionAreaSqFt:"800",constructionAreaSqMeter:"74.32",carpetAreaSqMeter:"65.00",builtUpAreaSqMeter:"70.00",saleAreaSqFt:"900"};v.useEffect(()=>{n&&Object.keys(n).length>0?r(d=>({...d,...n})):r(f)},[n]);const i=d=>{const{name:j,value:N}=d.target;r(h=>({...h,[j]:N}))},p=(d,j)=>{r(N=>({...N,[j]:d}))},a=(d,j,N="")=>e.jsxs(I,{xs:24,md:8,className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:d}),e.jsx(u,{name:j,value:m[j]||"",onChange:i,placeholder:d})]}),s=(d,j,N=["YES","NO","PARTIAL"])=>e.jsxs(I,{xs:24,md:8,className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:d}),e.jsx(S,{value:m[j]||"",onChange:h=>p(h,j),className:"w-full",placeholder:`Select ${d}`,children:N.map(h=>e.jsx(me,{value:h,children:h},h))})]}),o=()=>{const d={...y,generalAmenities:m};x(d),T.success("Saved successfully")};return e.jsx("div",{className:"bg-white shadow p-4 rounded",children:e.jsx(A,{defaultActiveKey:["1"],className:"mb-6",children:e.jsxs(ce,{header:e.jsx(M,{level:5,className:"!mb-0",children:"GENERAL, AMENITIES & AREA DETAILS"}),children:[e.jsx(M,{level:5,className:"mt-4 mb-2",children:"GENERAL DETAILS"}),e.jsxs(R,{gutter:16,children:[a("Municipal Limit","municipalLimit"),a("Municipal Authority (Name)","municipalAuthority"),a("Year of Construction","yearOfConstruction"),a("Occupancy Status","occupancyStatus"),a("Age of Property","ageOfProperty"),a("Residual Life of the Property","residualLife"),a("Property Furnished/Unfurnished","propertyFurnishing")]}),e.jsx(M,{level:5,className:"mt-8 mb-2",children:"GENERAL AMENITIES"}),e.jsxs(R,{gutter:16,children:[s("Water Supply","waterSupply"),s("Electricity Supply","electricitySupply"),s("Parking Facility","parkingFacility",["YES","NO"]),s("Lift Facility","liftFacility",["YES","NO"]),s("Security","security",["YES","NO"]),s("Fire Safety","fireSafety",["YES","NO"]),s("Sewage System","sewageSystem",["YES","NO"]),s("Waste Management","wasteManagement",["YES","NO"]),s("Green Area","greenArea",["YES","NO"]),s("Clubhouse","clubhouse",["YES","NO"]),s("Swimming Pool","swimmingPool",["YES","NO"]),s("Gymnasium","gymnasium",["YES","NO"])]}),e.jsx(M,{level:5,className:"mt-8 mb-2",children:"SURROUNDING EXTERNAL AMENITIES"}),e.jsxs(R,{gutter:16,children:[a("Nearest Bus Stop","nearestBusStop"),a("Nearest Railway Station","nearestRailway"),a("Nearest Airport","nearestAirport"),a("Nearest School/College","nearestSchool"),a("Nearest Bank","nearestBank"),a("Nearest Highway/Major Road","nearestHighway"),a("Nearest Hospital","nearestHospital"),a("Nearest Multiplex/Mall/Market","nearestMall")]}),e.jsx(M,{level:5,className:"mt-8 mb-2",children:"AREA DETAILS"}),e.jsxs(R,{gutter:16,children:[a("Plot Area (sq. feet)","plotAreaSqFt"),a("Plot Area (sq. meter)","plotAreaSqMeter"),a("Construction Area (sq. feet)","constructionAreaSqFt"),a("Construction Area (sq. meter)","constructionAreaSqMeter"),a("Carpet Area (sq. meter)","carpetAreaSqMeter"),a("Built-up Area (sq. meter)","builtUpAreaSqMeter"),a("Sale Area (sq. feet)","saleAreaSqFt")]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx(g,{type:"default",size:"large",onClick:c,children:"Back"}),e.jsx(g,{type:"primary",size:"large",onClick:o,children:"Save & Next"})]})]},"1")})})},{Panel:pe}=A,{Title:B}=C,{Option:l}=S,he=({onNext:x,onBack:c,initialValues:n={},isEdit:y,data:m={}})=>{const[r]=t.useForm(),f={natureOfBuilding:"Residential",functionOfUse:"Residential",typeOfFoundation:"Independent",concreteGrade:"M3D",seismicZone:"Zone III",floodProneArea:"No",environmentExposureCondition:"Moderate",windCyclones:"Low Damage Risk Zone",siteInvestigation:[{completion:"100",remarks:"Plinth completed"},{completion:"80",remarks:"RCC work in progress"},{completion:"50",remarks:"Brick work started"},{completion:"20",remarks:"Internal plaster pending"},{completion:"10",remarks:"External plaster pending"},{completion:"0",remarks:"Flooring not started"},{completion:"0",remarks:"Plumbing pending"},{completion:"0",remarks:"Doors and windows pending"},{completion:"0",remarks:"Finishing not started"}]},i=s=>{const o={...m,ndpAndSiteDetails:s};x(o),T.success("Saved successfully")},p=[{title:"SR. NO.",dataIndex:"id",key:"id"},{title:"ACTIVITY",dataIndex:"activity",key:"activity"},{title:"ALLOTED % FOR ACTIVITY",dataIndex:"allotted",key:"allotted"},{title:"PRESENT COMPLETION (%)",key:"completion",render:(s,o,d)=>e.jsx(t.Item,{name:["siteInvestigation",d,"completion"],children:e.jsx(b,{placeholder:"Completion %",style:{width:"100%"}})})},{title:"REMARKS ON PROGRESS",key:"remarks",render:(s,o,d)=>e.jsx(t.Item,{name:["siteInvestigation",d,"remarks"],children:e.jsx(u,{placeholder:"Remarks"})})}],a=[{id:1,activity:"PLINTH",allotted:"20.00%"},{id:2,activity:"R.C.C. BOYE GROUND",allotted:"40.00%"},{id:3,activity:"BRICK WORK",allotted:"10%"},{id:4,activity:"INTERNAL PLASTER",allotted:"5.00%"},{id:5,activity:"EXTERNAL PLASTER",allotted:"5.00%"},{id:6,activity:"FLOORING",allotted:"5.00%"},{id:7,activity:"PLUMBING & ELECTRIFIC WORK",allotted:"5.00%"},{id:8,activity:"DOOR, WINDOW & PAINT",allotted:"5.00%"},{id:9,activity:"FINISHING & POSSESSION",allotted:"5.00%"}];return e.jsx(A,{defaultActiveKey:["1"],className:"mb-6 border rounded-md bg-white shadow-sm",children:e.jsx(pe,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(B,{level:5,className:"!mb-0",children:"NDP AND SITE DETAILS"}),e.jsx(g,{type:"primary",size:"small",disabled:y,children:"Edit"})]}),children:e.jsxs(t,{form:r,layout:"vertical",initialValues:f,onFinish:i,className:"p-4 bg-gray-100 rounded",children:[e.jsx(B,{level:5,className:"mt-4 mb-2",children:"BUILDING DETAILS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(t.Item,{label:"Nature of Building",name:"natureOfBuilding",children:e.jsxs(S,{placeholder:"Select Nature",children:[e.jsx(l,{value:"Residential",children:"Residential"}),e.jsx(l,{value:"Commercial",children:"Commercial"}),e.jsx(l,{value:"Industrial",children:"Industrial"})]})}),e.jsx(t.Item,{label:"Function of Use",name:"functionOfUse",children:e.jsxs(S,{placeholder:"Select Function",children:[e.jsx(l,{value:"Residential",children:"Residential"}),e.jsx(l,{value:"Non-Residential",children:"Non-Residential"}),e.jsx(l,{value:"Critical Lifeline",children:"Critical Lifeline (Infrastructure/development)"})]})}),e.jsx(t.Item,{label:"Type of Foundation",name:"typeOfFoundation",children:e.jsxs(S,{placeholder:"Select Foundation Type",children:[e.jsx(l,{value:"Independent",children:"Independent"}),e.jsx(l,{value:"Interconnected",children:"Interconnected"}),e.jsx(l,{value:"Ref.",children:"Ref."}),e.jsx(l,{value:"File",children:"File"}),e.jsx(l,{value:"Not able to assess",children:"Not able to assess since completed property"})]})}),e.jsx(t.Item,{label:"Concrete Grade",name:"concreteGrade",children:e.jsxs(S,{placeholder:"Select Concrete Grade",children:[e.jsx(l,{value:"M2S",children:"M2S"}),e.jsx(l,{value:"M3D",children:"M3D"}),e.jsx(l,{value:"M4D",children:"M4D"}),e.jsx(l,{value:"M4S",children:"M4S"}),e.jsx(l,{value:"Not able to assess",children:"Not able to assess since completed property"})]})}),e.jsx(t.Item,{label:"Seismic Zone",name:"seismicZone",children:e.jsxs(S,{placeholder:"Select Seismic Zone",children:[e.jsx(l,{value:"Zone II",children:"Zone II"}),e.jsx(l,{value:"Zone III",children:"Zone III"}),e.jsx(l,{value:"Zone IV",children:"Zone IV"}),e.jsx(l,{value:"Zone V",children:"Zone V"})]})}),e.jsx(t.Item,{label:"Flood Prone Area",name:"floodProneArea",children:e.jsxs(S,{placeholder:"Select Flood Prone Status",children:[e.jsx(l,{value:"Yes",children:"Yes"}),e.jsx(l,{value:"No",children:"No"})]})}),e.jsx(t.Item,{label:"Environment Exposure Condition",name:"environmentExposureCondition",children:e.jsxs(S,{placeholder:"Select Exposure Condition",children:[e.jsx(l,{value:"MIB",children:"MIB"}),e.jsx(l,{value:"Moderate",children:"Moderate"}),e.jsx(l,{value:"Severe",children:"Severe"}),e.jsx(l,{value:"Very severe",children:"Very severe"}),e.jsx(l,{value:"Extreme",children:"Extreme"})]})}),e.jsx(t.Item,{label:"Wind/Cyclones",name:"windCyclones",children:e.jsxs(S,{placeholder:"Select Wind/Cyclone Risk",children:[e.jsx(l,{value:"Very High Damage risk Zone A",children:"Very High Damage risk Zone A"}),e.jsx(l,{value:"Very High Damage risk Zone B",children:"Very High Damage risk Zone B"}),e.jsx(l,{value:"Very High Damage Risk Zone C",children:"Very High Damage Risk Zone C"}),e.jsx(l,{value:"Moderate Damage Risk Zone D",children:"Moderate Damage Risk Zone D"}),e.jsx(l,{value:"Moderate Damage Risk Zone E",children:"Moderate Damage Risk Zone E"}),e.jsx(l,{value:"Low Damage Risk Zone",children:"Low Damage Risk Zone"})]})})]}),e.jsx(B,{level:5,className:"mt-6 mb-2",children:"SITE INVESTIGATION DETAILS"}),e.jsx(q,{dataSource:a,columns:p,pagination:!1,rowKey:"id"}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(g,{onClick:c,className:"mr-2",children:"Back"}),e.jsx(g,{type:"primary",htmlType:"submit",children:"Next"})]})]})},"1")})},{Panel:xe}=A,{Title:F}=C,{Option:E}=S,ye=({onNext:x,onBack:c,initialValues:n={},isEdit:y,data:m={}})=>{const[r]=t.useForm(),[f,i]=v.useState(0),p={areaType:"Residential",areaValuation:5e6,constructionCost:2e6,extensionEstimate:5e5,amenities:[{description:"Parking Area",areaQuantity:200,unit:"sq.ft",amount:2e5},{description:"Garden",areaQuantity:150,unit:"sq.ft",amount:15e4},{description:"Security System",areaQuantity:1,unit:"unit",amount:1e5},{description:"Lift",areaQuantity:1,unit:"unit",amount:3e5},{description:"Water Tank",areaQuantity:1,unit:"unit",amount:5e4},{description:"Gym Equipment",areaQuantity:1,unit:"unit",amount:2e5}],totalAmenitiesCost:1e6,variancePercentage:10,distressValue:6e6,rentalValue:3e4,noOfBasements:1,noOfGroundFloors:1,noOfPodiums:0,noOfUpperFloors:2,totalNoOfFloors:4},a=j=>{const N={...m,valuationDetails:j};x(N),T.success("Saved successfully")},s=[{title:"SR. NO.",render:(j,N,h)=>h+1,key:"srNo"},{title:"Description",key:"description",render:(j,N,h)=>e.jsx(t.Item,{name:["amenities",h,"description"],children:e.jsx(u,{placeholder:"Description"})})},{title:"Area/Quantity",key:"areaQuantity",render:(j,N,h)=>e.jsx(t.Item,{name:["amenities",h,"areaQuantity"],children:e.jsx(b,{placeholder:"Area/Quantity",style:{width:"100%"}})})},{title:"Unit",key:"unit",render:(j,N,h)=>e.jsx(t.Item,{name:["amenities",h,"unit"],children:e.jsxs(S,{placeholder:"Select Unit",children:[e.jsx(E,{value:"sq.ft",children:"sq.ft"}),e.jsx(E,{value:"sq.m",children:"sq.m"}),e.jsx(E,{value:"unit",children:"unit"})]})})},{title:"Amount",key:"amount",render:(j,N,h)=>e.jsx(t.Item,{name:["amenities",h,"amount"],children:e.jsx(b,{placeholder:"Amount",style:{width:"100%"}})})}],o=Array.from({length:6},(j,N)=>({key:N})),d=t.useWatch("amenities",r);return v.useEffect(()=>{if(Array.isArray(d)){const j=d.reduce((N,h)=>N+(parseFloat(h==null?void 0:h.amount)||0),0);i(j),r.setFieldsValue({totalAmenitiesCost:j})}},[d,r]),e.jsx(A,{defaultActiveKey:["1"],className:"mb-6 border rounded-md bg-white shadow-sm",children:e.jsx(xe,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(F,{level:5,className:"!mb-0",children:"VALUATION DETAILS"}),e.jsx(g,{type:"primary",size:"small",disabled:y,children:"Edit"})]}),children:e.jsxs(t,{form:r,layout:"vertical",initialValues:p,onFinish:a,className:"p-4 bg-gray-100 rounded",children:[e.jsx(F,{level:5,className:"mt-4 mb-2",children:"VALUATION CALCULATION"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(t.Item,{label:"Area Type",name:"areaType",rules:[{required:!0,message:"Please select area type"}],children:e.jsxs(S,{placeholder:"Select Area Type",children:[e.jsx(E,{value:"RESIDENTIAL",children:"Residential"}),e.jsx(E,{value:"COMMERCIAL",children:"Commercial"}),e.jsx(E,{value:"INDUSTRIAL",children:"Industrial"})]})}),e.jsx(t.Item,{label:"Area Valuation (Plot Area)",name:"areaValuation",rules:[{required:!0,message:"Please enter area valuation"}],children:e.jsx(b,{placeholder:"Area Valuation",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Construction Cost (Construction Area)",name:"constructionCost",rules:[{required:!0,message:"Please enter construction cost"}],children:e.jsx(b,{placeholder:"Construction Cost",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Extension/Improvement Estimate",name:"extensionEstimate",rules:[{required:!0,message:"Please enter extension estimate"}],children:e.jsx(b,{placeholder:"Extension Estimate",style:{width:"100%"}})})]}),e.jsx(F,{level:5,className:"mt-8 mb-2",children:"AMENITIES"}),e.jsx(q,{columns:s,dataSource:o,pagination:!1,rowKey:"key",className:"mb-4"}),e.jsx(t.Item,{label:"Total Amenities Cost",name:"totalAmenitiesCost",children:e.jsx(b,{disabled:!0,style:{width:"100%"},value:f})}),e.jsx(F,{level:5,className:"mt-8 mb-2",children:"TOTAL FAIR MARKET VALUE"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(t.Item,{label:"% Variance (Total Fair Market Value to Govt Value)",name:"variancePercentage",rules:[{required:!0,message:"Please enter variance percentage"}],children:e.jsx(b,{placeholder:"Variance Percentage",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Distress Value of the Property (Rs.)",name:"distressValue",rules:[{required:!0,message:"Please enter distress value"}],children:e.jsx(b,{placeholder:"Distress Value",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Rental Value of the Property (Per Month)",name:"rentalValue",rules:[{required:!0,message:"Please enter rental value"}],children:e.jsx(b,{placeholder:"Rental Value",style:{width:"100%"}})})]}),e.jsx(F,{level:5,className:"mt-8 mb-2",children:"FLOOR DETAILS"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(t.Item,{label:"No of Basement(s)",name:"noOfBasements",rules:[{required:!0,message:"Please enter number of basements"}],children:e.jsx(b,{placeholder:"No of Basements",style:{width:"100%"}})}),e.jsx(t.Item,{label:"No of Ground/Parking/Stilt",name:"noOfGroundFloors",rules:[{required:!0,message:"Please enter number of ground floors"}],children:e.jsx(b,{placeholder:"No of Ground Floors",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Podium(s)",name:"noOfPodiums",rules:[{required:!0,message:"Please enter number of podiums"}],children:e.jsx(b,{placeholder:"No of Podiums",style:{width:"100%"}})}),e.jsx(t.Item,{label:"No of Upper Floor(s)",name:"noOfUpperFloors",rules:[{required:!0,message:"Please enter number of upper floors"}],children:e.jsx(b,{placeholder:"No of Upper Floors",style:{width:"100%"}})}),e.jsx(t.Item,{label:"Total No. of Floor(s)",name:"totalNoOfFloors",rules:[{required:!0,message:"Please enter total number of floors"}],children:e.jsx(b,{placeholder:"Total No. of Floors",style:{width:"100%"}})})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(g,{onClick:c,children:"Back"}),e.jsx(g,{type:"primary",htmlType:"submit",children:"Next"})]})]})},"1")})},{Panel:je}=A,{Title:ee}=C,Ne=({onNext:x,onBack:c,initialValues:n={},isEdit:y})=>{const[m]=t.useForm(),[r,f]=v.useState([]);v.useEffect(()=>{const a=[{name:"APPROVED LAYOUT PLAN",recdType:"Original",refNo:"ALP123",refDate:P("2023-01-15","YYYY-MM-DD"),approvalDetails:"Approved by Town Planning Authority"},{name:"APPROVED FLOOR PLAN",recdType:"Copy",refNo:"AFP456",refDate:P("2023-02-10","YYYY-MM-DD"),approvalDetails:"Signed by Chief Architect"},{name:"CONSTRUCTION PERMISSION / BUILDING",recdType:"Original",refNo:"CPB789",refDate:P("2022-12-05","YYYY-MM-DD"),approvalDetails:"Granted by Municipal Corporation"}],s=(n.documents||a).map(o=>({...o,refDate:o.refDate?P(o.refDate,"YYYY-MM-DD"):null}));f(s),m.setFieldsValue({documents:s})},[]);const i=a=>{const s={siteDocumentsVerified:a.documents};x(s),T.success("Saved successfully")},p=[{title:"Document Name",dataIndex:"name",key:"name"},{title:"Recd Type",key:"recdType",render:(a,s,o)=>e.jsx(t.Item,{name:["documents",o,"recdType"],noStyle:!0,children:e.jsx(u,{placeholder:"Recd Type"})})},{title:"Ref No.",key:"refNo",render:(a,s,o)=>e.jsx(t.Item,{name:["documents",o,"refNo"],noStyle:!0,children:e.jsx(u,{placeholder:"Ref No."})})},{title:"Ref Date",key:"refDate",render:(a,s,o)=>e.jsx(t.Item,{name:["documents",o,"refDate"],noStyle:!0,children:e.jsx(L,{format:"YYYY-MM-DD",placeholder:"Select Date",style:{width:"100%"}})})},{title:"Details of Approval",key:"approvalDetails",render:(a,s,o)=>e.jsx(t.Item,{name:["documents",o,"approvalDetails"],noStyle:!0,children:e.jsx(u,{placeholder:"Approval Details"})})}];return e.jsx(A,{defaultActiveKey:["1"],className:"mb-6 border rounded bg-white shadow-sm",children:e.jsx(je,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ee,{level:5,className:"!mb-0",children:"TECHNICAL DOCUMENTS DETAILS"}),e.jsx(g,{type:"primary",size:"small",children:"Edit"})]}),children:e.jsxs(t,{form:m,layout:"vertical",onFinish:i,className:"p-4 bg-gray-100 rounded",children:[e.jsx(ee,{level:5,className:"mt-4 mb-2",children:"DOCUMENT VERIFICATION DETAILS"}),e.jsx(q,{columns:p,dataSource:r,pagination:!1,rowKey:(a,s)=>s,className:"mb-4"}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(g,{onClick:c,children:"Back"}),e.jsx(g,{type:"primary",htmlType:"submit",children:"Submit"})]})]})},"1")})},{Panel:Se}=A,{Title:O}=C,ge=({onNext:x,onBack:c,initialValues:n={},isEdit:y})=>{const[m]=t.useForm();v.useEffect(()=>{const i={propertyAcceptable:"YES",marketability:"Good resale potential",outsideVisitDone:!0,dataProvided:!0,propertyIdentified:!0,rateConfirmed:!0,deviations:"Slight discrepancy in building plan",conditions:"Submit updated property tax receipt",tsrPreparedBy:"Sourabh Badgaiya",tsrSubmittedTo:"HeroFinCorp Ltd.",tsrPreparedDate:P("2024-05-10"),tsrSubmittedDate:P("2024-05-11"),locationPhotos:[{uid:"-1",name:"photo1.jpg",status:"done",url:"https://plus.unsplash.com/premium_photo-1694540892449-5c3170caf81c?q=80&w=1528&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}]};m.setFieldsValue({...i,...n,tsrPreparedDate:n.tsrPreparedDate?P(n.tsrPreparedDate):i.tsrPreparedDate,tsrSubmittedDate:n.tsrSubmittedDate?P(n.tsrSubmittedDate):i.tsrSubmittedDate,locationPhotos:n.locationPhotos?n.locationPhotos.map((p,a)=>({uid:a,name:p,status:"done",url:p})):i.locationPhotos})},[n]);const r=i=>{var a;const p={...i,tsrPreparedDate:i.tsrPreparedDate?i.tsrPreparedDate.toISOString():null,tsrSubmittedDate:i.tsrSubmittedDate?i.tsrSubmittedDate.toISOString():null,locationPhotos:(a=i.locationPhotos)==null?void 0:a.map(s=>s.name||s.url)};x(p),T.success("Saved successfully")},f={beforeUpload:()=>!1,multiple:!0};return e.jsx(A,{defaultActiveKey:["1"],className:"mb-6 border rounded-md bg-white shadow-sm",children:e.jsx(Se,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(O,{level:5,className:"!mb-0",children:"REMARKS ON PROPERTY"}),e.jsx(g,{type:"primary",size:"small",disabled:y,children:"Edit"})]}),children:e.jsxs(t,{form:m,layout:"vertical",onFinish:r,className:"p-4 bg-gray-100 rounded",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(t.Item,{label:"Property Technically Acceptable",name:"propertyAcceptable",children:e.jsxs(Y.Group,{children:[e.jsx(Y,{value:"YES",children:"YES"}),e.jsx(Y,{value:"NO",children:"NO"})]})}),e.jsx(t.Item,{label:"Marketability of Property",name:"marketability",children:e.jsx(u,{placeholder:"Marketability"})})]}),e.jsx(O,{level:5,className:"mt-8 mb-2",children:"REMARKS"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx(t.Item,{name:"outsideVisitDone",valuePropName:"checked",children:e.jsx(w,{children:"This map case, only outside visit is done."})}),e.jsx(t.Item,{name:"dataProvided",valuePropName:"checked",children:e.jsx(w,{children:"All data tackles provided by same."})}),e.jsx(t.Item,{name:"propertyIdentified",valuePropName:"checked",children:e.jsx(w,{children:"Property is identified by address and unit no."})}),e.jsx(t.Item,{name:"rateConfirmed",valuePropName:"checked",children:e.jsx(w,{children:"Rate has been confirmed from market enquiry."})})]}),e.jsx(O,{level:5,className:"mt-8 mb-2",children:"TSR DEVIATION"}),e.jsx(t.Item,{name:"deviation1",children:e.jsx(u,{placeholder:"Enter property/document deviation"})}),e.jsx(O,{level:5,className:"mt-8 mb-2",children:"TSR CONDITION"}),e.jsx(t.Item,{name:"condition1",children:e.jsx(u,{placeholder:"Enter compliance condition"})}),e.jsx(O,{level:5,className:"mt-8 mb-2",children:"TSR PREPARED BY"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(t.Item,{label:"TSR Prepared By",name:"tsrPreparedBy",children:e.jsx(u,{placeholder:"TSR Prepared By"})}),e.jsx(t.Item,{label:"TSR Submitted To",name:"tsrSubmittedTo",children:e.jsx(u,{placeholder:"TSR Submitted To"})}),e.jsx(t.Item,{label:"TSR Prepared On Date",name:"tsrPreparedDate",children:e.jsx(L,{format:"YYYY-MM-DD",style:{width:"100%"}})}),e.jsx(t.Item,{label:"TSR Submitted On Date",name:"tsrSubmittedDate",children:e.jsx(L,{format:"YYYY-MM-DD",style:{width:"100%"}})})]}),e.jsx(O,{level:5,className:"mt-8 mb-2",children:"LOCATION MAPS - PHOTOGRAPHS"}),e.jsx(t.Item,{name:"locationPhotos",valuePropName:"fileList",getValueFromEvent:i=>Array.isArray(i)?i:i==null?void 0:i.fileList,rules:[{required:!0,message:"Please upload at least one photo"}],children:e.jsx(le,{...f,listType:"picture",children:e.jsx(g,{icon:e.jsx(ne,{}),children:"Upload Photos"})})}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(g,{onClick:c,children:"Back"}),e.jsx(g,{type:"primary",htmlType:"submit",children:"Submit"})]})]})},"1")})},at=()=>{const[x,c]=v.useState(1),[n,y]=v.useState({}),[m,r]=v.useState({}),f=ae(),i=se(),p=async s=>{const o={...n,...s};if(y(o),x===7)try{const d=await f(re(o)).unwrap();i(`/bank/piramalnpa-form/${d.data._id}`),T.success("Form submitted successfully!")}catch(d){console.error("Error submitting form:",d),T.error("Failed to submit form.")}c(d=>d+1)},a=()=>{x>1&&c(s=>s-1)};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 bg-white shadow-md rounded-md",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"Property Address Form"}),x===1&&e.jsx(oe,{isEdit:m,onNext:p}),x===2&&e.jsx(de,{isEdit:m,onNext:p,onBack:a,data:n.loanApplicationDetails||{}}),x===3&&e.jsx(ue,{isEdit:m,onNext:p,onBack:a,data:n.generalAmenities||{}}),x===4&&e.jsx(he,{isEdit:m,onNext:p,onBack:a,data:n.ndpAndSiteDetails||{}}),x===5&&e.jsx(ye,{isEdit:m,onNext:p,onBack:a,data:n.valuationDetails||{}}),x===6&&e.jsx(Ne,{isEdit:m,onNext:p,onBack:a,data:n.technicalDocuments||{}}),x===7&&e.jsx(ge,{isEdit:m,onNext:p,onBack:a,data:n.remarks||{}}),x>7&&e.jsx("div",{className:"text-green-600 mt-4 font-semibold",children:"✅ All steps completed. Form submitted."})]})};export{at as default};
